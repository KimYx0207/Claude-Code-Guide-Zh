# 老金用Claude Code才知道，这个测试神器让写单元测试秒变一键操作

看到一个Skill。

名字：playwright-skill。

作者：lackeyjb。

星数：755。

说明：Model-invoked - Claude autonomously writes and executes custom automation。

点开一看，好家伙，这是真正的自动化。

---

## 和Playwright MCP有什么不一样？

很多人会问这个问题。

Playwright MCP和playwright-skill，名字差不多，有什么区别？

说实话，刚开始也搞不清。

后来用了才明白：

**Playwright MCP**：你告诉Claude做什么，它执行。
比如："帮我打开网页并截图"

**playwright-skill**：Claude自己决定要测什么，自己写代码。
比如："帮我测试登录功能"，它会自己写完整的测试脚本。

区别在于：

MCP是执行工具，Skill是自主决策。

MCP需要你指挥每一步，Skill会自己规划测试流程。

---

## playwright-skill能做什么？

简单说，就是让Claude成为测试工程师。

它能：

**自己写测试代码**
你说要测什么功能，它会自己写Playwright测试脚本。

**自己执行测试**
写完代码，立即运行，看结果。

**自己调试**
测试失败了，它会分析原因，修改代码，再测试。

**自己生成报告**
测试完成，自动生成测试报告，截图记录。

整个过程不用你插手。

---

## 实测效果

试了一周。

测试了几个场景。

**场景1：E2E测试**

有个电商网站，要做端到端测试。

以前要写测试脚本：

```javascript
test('购物流程', async ({ page }) => {
  await page.goto('https://example.com');
  await page.click('#product-1');
  await page.click('#add-to-cart');
  // ...还有20行代码
});
```

现在直接告诉Claude：

"测试完整购物流程：浏览商品→加购→结算→支付"

Claude会：
1、分析需要测哪些步骤
2、自己写完整的测试代码
3、运行测试，记录结果
4、如果失败，自己调试修复

20分钟完成以前要2小时的工作。

**场景2：UI回归测试**

网站改版了，要确保功能没破坏。

以前要手动测试每个页面，点每个按钮。

一天能测完就不错了。

现在告诉Claude：

"测试所有主要功能：登录、搜索、下单、支付、评论"

它会自动写测试，逐个验证。

2小时测完，还生成详细报告。

**场景3：跨浏览器测试**

要在Chrome、Firefox、Safari上都测一遍。

以前要手动切换浏览器，重复测试。

现在告诉Claude：

"在三个浏览器上测试响应式布局"

它会自动在三个浏览器上跑测试，对比结果。

---

## 怎么用？

三步搞定。

**第一步：安装Playwright**

```bash
npm install -D @playwright/test
npx playwright install
```

**第二步：克隆Skill**

```bash
git clone https://github.com/lackeyjb/playwright-skill.git
```

**第三步：配置Claude Code**

把克隆的目录链接到Skills文件夹：

```bash
ln -s /path/to/playwright-skill ~/.config/claude/skills/
```

重启Claude Code就行了。

试试说："测试当前网页的登录功能"

如果Claude开始写测试代码并执行，就成功了。

---

## 当然也有短板

用了一周，发现几个问题。

**问题1：复杂测试需要多次迭代**

如果测试逻辑很复杂，Claude可能第一次写不对。

需要它自己调试几次。

有时候要手动给它一些提示。

**问题2：动态元素不好测**

有些网站元素是动态加载的。

Claude可能找不到元素，测试失败。

这时候要告诉它具体的选择器。

**问题3：有误报可能**

偶尔会把正常功能判断为错误。

需要人工复查测试结果。

---

## 和人工测试的区别

用了一个月，总结了几点：

**速度**
AI测试：几分钟
人工测试：几小时

**覆盖率**
AI测试：能测很多边界情况
人工测试：容易漏掉细节

**准确性**
AI测试：偶尔误报
人工测试：不会出错但会漏掉

**适应性**
AI测试：网页改了要重新写
人工测试：看到就能适应

所以最好的方式是：

AI负责常规测试和回归测试。

人工负责探索性测试和最终验证。

---

## 适合谁用？

如果你是这几类人，强烈建议试试：

**前端开发者** - 写完代码立即测试，不用手动点。

**测试工程师** - 自动化测试不用写代码，用自然语言描述。

**小团队** - 没有专职测试，开发者自己能快速测。

**CI/CD维护者** - 集成到流水线，自动测试每次提交。

---

## 一个月后

用了一个月，发现测试习惯变了。

以前写完功能，懒得测试。

因为测试很麻烦，要写很多代码。

现在写完功能，立即告诉Claude：

"测试我刚写的XX功能"

它自己写测试，自己跑，告诉你结果。

测试变得和写代码一样容易。

不需要额外的时间成本。

这种改变，让TDD（测试驱动开发）变得可行。

以前TDD只有高手才用。

现在普通开发者也能做到。

因为测试不再是负担，而是顺手就能做的事。

---

## 技术的演进

想起一件事。

20年前，写网页要手写HTML、CSS、JavaScript。

很麻烦，出错了要自己找。

后来有了框架，有了工具，开发变简单了。

但测试还是很麻烦。

要学测试框架，写测试代码，维护测试用例。

很多人因为麻烦，就不写测试了。

现在有了playwright-skill。

测试不用写代码了。

用自然语言描述，AI自己搞定。

这种简化，可能会让更多人开始重视测试。

也可能会让软件质量整体提升一个台阶。

---

**参考来源**：
- playwright-skill项目 https://github.com/lackeyjb/playwright-skill
- Playwright官方文档 https://playwright.dev/
- Claude Code Skills开发指南 https://docs.anthropic.com/claude-code/skills
