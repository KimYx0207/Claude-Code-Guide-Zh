# 公众号文章写作完整Checklist

## 一、写作前必读（MANDATORY）

### 1.1 读取所有规则文档
- [ ] 读取 `laojin-style-v6-natural.md`（老金风格规范）
- [ ] 读取 `baokuan-rules.md`（爆款12大公式）
- [ ] 读取 `auto-image-generator.md`（配图规则）
- [ ] 读取 `infographic-generator.md`（信息图规则）

### 1.2 确认文章类型和结构
- [ ] 确定文章类型（经验故事类/干货方法类/新闻解读类）
- [ ] 规划文章结构（3-5个章节）
- [ ] 确定字数范围（1500-4000字）

### 1.3 Research要求（必须完成）
如果主题需要Research，**必须**完成以下至少3项：
- [ ] mcp__mcp-router__search（免费无限，优先使用）
- [ ] mcp__mcp-router__brave_web_search（2000次/月）
- [ ] mcp__context7__get_library_docs（技术文档）
- [ ] WebSearch / WebFetch（备选）

---

## 二、写作中严格遵守（CRITICAL）

### 2.1 老金风格核心规则
- [ ] 使用"老金我"（NOT "老金我"）
- [ ] **零脏话容忍**（tm/艹/操/煞笔等一律禁止）
- [ ] 使用"1、2、3、"格式（NOT "### 第一步"）
- [ ] 最小化表格使用
- [ ] 逗号断句，保持口语化
- [ ] 避免AI腔词汇（测试→玩，尝试→扔）

### 2.2 标题生成规则
- [ ] 生成5个备选标题（使用12大爆款公式）
- [ ] 标注推荐标题（← 推荐）
- [ ] 标注标题类型（恐慌+好奇型/悬念冲击型等）
- [ ] 标题格式纯文本（NO emoji）

### 2.3 内容质量标准
- [ ] 真实案例（具体数字、时间、地点）
- [ ] 震撼数据（用数字说话）
- [ ] 实用方法（可操作的步骤）
- [ ] 自然流畅（像和朋友聊天）

---

## 三、配图自动化流程（AUTOMATED）

### 3.1 自动判断是否需要配图
```javascript
// 根据字数自动判断
if (wordCount < 1500) {
  requiredImages = 1-2;
} else if (wordCount < 3000) {
  requiredImages = 2-3;
} else {
  requiredImages = 3-5;
}
```

### 3.2 自动搜索高质量图片
**优先级顺序**：
1. **Google图片搜索自动化**（推荐）
   - 运行 `simple_google_images.js`
   - 自动筛选：高清 + 无水印 + 主题相关
   - 自动评分排序

2. **中文图片搜索**（如需纯图片或中文）
   - 运行 `search_chinese_images.js`
   - 优先中文网站
   - 避免英文文字图片

3. **新闻网站爬取**（备选）
   - 从参考来源爬取
   - 需检查水印

### 3.3 图片位置规范
- [ ] 封面图：标题后、推荐标题之后、正文之前
- [ ] 章节图：章节标题后
- [ ] 数据图：数据段落中

### 3.4 图片格式
```markdown
![](图片URL)
```
- [ ] alt留空（方括号内不写字）
- [ ] 无图片说明/署名
- [ ] 上下各空一行

---

## 四、信息图自动化（CONDITIONAL）

### 4.1 自动检测是否适合生成信息图
**触发条件**（满足任一即生成）：
- [ ] 对比类内容（A vs B）
- [ ] 流程类内容（步骤1→2→3）
- [ ] 数据类内容（统计数字、增长趋势）

### 4.2 自动生成并插入
- [ ] 运行 `infographic_generator.py`
- [ ] 生成HTML信息图
- [ ] Playwright截图保存
- [ ] 自动插入到文章对应位置
- [ ] 最多3张信息图/篇

---

## 五、写作后质量检测（MANDATORY）

### 5.1 运行9维度质量检测
```bash
cd ".claude/skills/gongzhonghao-writer/scripts"
python quality_detector.py [文章路径]
```

### 5.2 质量标准（必须达标）
- [ ] AI腔检测 < 20分
- [ ] 自然度 > 80分
- [ ] 真诚度 > 75分
- [ ] 啰嗦度 < 25分
- [ ] 重复度 < 15%
- [ ] 可读性 > 85分
- [ ] 人味儿指数 > 70分
- [ ] 情感真实性 > 75分
- [ ] **脏话检测 = 0处**（零容忍）

### 5.3 发文前5维验证
- [ ] Research完成（至少3项）
- [ ] 标题符合爆款公式
- [ ] 内容实用性（可操作）
- [ ] 独特性（非AI模板化）
- [ ] 传播性（有分享价值）

---

## 六、自动化修复流程（AUTOMATED）

### 6.1 自动脏话检测与移除
**运行脚本**：
```bash
cd ".claude/skills/gongzhonghao-writer/scripts"
node remove_profanity.js [文章路径]
```

**检测规则**：
- 使用正则表达式：`(tm|艹|操(?!控)|煞笔|憨批|SB|sb|妈的|他妈|尼玛)`
- 检测到 > 0处 → 自动移除并替换
- 检测到 = 0处 → 通过

**替换策略**：
- "tm" → 删除或替换为"真的"
- "艹" → 删除或替换为"乖乖"
- "煞笔/憨批/SB" → 删除或替换为自然表达

### 6.2 如果质量检测未通过
- [ ] 自动标记问题区域
- [ ] 自动提供修改建议
- [ ] 重新检测直到达标

### 6.3 自动化检测顺序
```
1. 脏话检测（零容忍，优先级最高）
2. AI腔检测
3. 自然度检测
4. 真诚度检测
5. 啰嗦度检测
6. 重复度检测
7. 可读性检测
8. 人味儿指数检测
9. 情感真实性检测
```

---

## 七、完整写作流程总结

```
┌─────────────────────────────────────────┐
│ 1. 读取所有规则文档（4个md文件）          │
├─────────────────────────────────────────┤
│ 2. 确认需要Research → 完成至少3项        │
├─────────────────────────────────────────┤
│ 3. 写作（严格遵守老金风格 + 零脏话）      │
├─────────────────────────────────────────┤
│ 4. 生成5个爆款标题                       │
├─────────────────────────────────────────┤
│ 5. 自动搜索配图（Google/中文/新闻）      │
├─────────────────────────────────────────┤
│ 6. 自动检测并生成信息图（如适用）         │
├─────────────────────────────────────────┤
│ 7. 运行质量检测（9维度 + 5维验证）        │
├─────────────────────────────────────────┤
│ 8. 如未通过 → 自动修复 → 重新检测        │
└─────────────────────────────────────────┘
```

---

## 八、常见错误及自动修复

### 8.1 脏话问题
**错误示例**：
- "tm太细思极恐" ❌
- "操，这个功能" ❌
- "艹了，报错了" ❌

**自动修复**：
```bash
# 运行脏话检测并自动移除
node remove_profanity.js [文章路径]
```

### 8.2 格式问题
**错误示例**：
- "### 第一步：准备工作" ❌
- 使用emoji标题 ❌
- 表格过多 ❌

**正确示例**：
- "1、准备工作" ✅
- 纯文本标题 ✅
- 列表代替表格 ✅

---

## 九、Checklist自检清单

在提交文章前，必须确认以下所有项：

### 必读规则
- [x] 读取laojin-style-v6-natural.md
- [x] 读取baokuan-rules.md
- [x] 读取auto-image-generator.md
- [x] 读取infographic-generator.md

### Research
- [x] 完成至少3项Research（如需要）

### 写作质量
- [x] 零脏话（运行检测）
- [x] 使用"老金我"
- [x] 使用"1、2、3、"格式
- [x] 标题符合爆款公式
- [x] 有真实案例和数据

### 配图
- [x] 自动搜索高质量图片
- [x] 图片无水印
- [x] 图片位置正确
- [x] 格式符合规范

### 信息图
- [x] 检测是否适合生成
- [x] 自动生成并插入（如适用）

### 质量检测
- [x] 运行quality_detector.py
- [x] 所有指标达标
- [x] 脏话检测 = 0

### 最终验证
- [x] 5维发文前验证通过

---

**重要提醒**：
1. **每次写作前必须完整读取所有规则**
2. **零脏话容忍，发现立即修复**
3. **配图和信息图全自动化，无需手动干预**
4. **质量检测未通过禁止发布**
