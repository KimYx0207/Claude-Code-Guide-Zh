# 正确性验证格式规范

**核心原则**：每个操作步骤后必须提供验证方法，让读者确认操作成功。

---

## 一、验证方法类型

### 类型1：命令行验证（最常用）

**适用场景**：安装软件、配置环境、运行服务

**格式模板**：
```markdown
**验证是否成功**：

**Windows系统（PowerShell）：**
```powershell
# [命令作用说明]
命令
# 预期输出：[具体的预期结果]
```

**macOS/Linux系统：**
```bash
# [命令作用说明]
命令
# 预期输出：[具体的预期结果]
```

**如果看到以上输出，说明[操作名称]成功！**
```

**示例**：
```markdown
**验证是否成功**：

**Windows系统（PowerShell）：**
```powershell
# 检查Node.js版本
node --version
# 预期输出：v22.x.x（数字可能略有不同）
```

**macOS/Linux系统：**
```bash
# 检查Node.js版本
node --version
# 预期输出：v22.x.x（数字可能略有不同）
```

**如果看到版本号输出，说明Node.js安装成功！**
```

### 类型2：文件验证

**适用场景**：创建文件、下载文件、生成配置

**格式模板**：
```markdown
**验证是否成功**：

**检查文件是否存在**：
```bash
# 列出目录内容
ls -la [目录路径]
# 或Windows：dir [目录路径]

# 预期看到：[文件名]
```

**检查文件内容**：
```bash
# 查看文件内容
cat [文件路径]
# 或Windows：type [文件路径]

# 预期看到：[关键内容]
```
```

### 类型3：界面验证

**适用场景**：GUI操作、网页访问、IDE配置

**格式模板**：
```markdown
**验证是否成功**：

**你应该看到**：
1、[界面元素1描述]
2、[界面元素2描述]
3、[界面元素3描述]

**成功标志**：
[具体描述什么样的界面表示成功]

<!-- 建议截图位置：[描述需要截图的内容] -->
```

### 类型4：功能验证

**适用场景**：测试功能是否正常工作

**格式模板**：
```markdown
**验证是否成功**：

**测试步骤**：
1、[操作步骤1]
2、[操作步骤2]
3、[操作步骤3]

**预期结果**：
[详细描述预期的结果]

**实际结果**：
（读者自行填写）
```

---

## 二、错误处理格式

### 错误处理模板

每个验证方法后，必须提供"如果失败怎么办"：

```markdown
**如果失败怎么办**：

**错误1**：`[错误信息/现象]`

**可能原因**：
1、[原因1]
2、[原因2]

**解决方案**：
```bash
# [解决步骤说明]
命令
```

**错误2**：`[错误信息/现象]`

**可能原因**：
1、[原因1]

**解决方案**：
[解决步骤]
```

### 错误分类

**权限错误**：
```markdown
**错误**：`EACCES: permission denied`

**原因**：没有管理员权限

**解决方案**：
1、Windows：右键"以管理员身份运行"
2、macOS/Linux：使用 `sudo` 命令或修改目录权限
```

**网络错误**：
```markdown
**错误**：`ETIMEDOUT` 或 `network request failed`

**原因**：网络连接问题

**解决方案**：
1、检查网络连接
2、使用国内镜像源
3、配置代理
```

**版本错误**：
```markdown
**错误**：`requires Node.js version X or higher`

**原因**：Node.js版本过低

**解决方案**：
1、卸载旧版本
2、安装新版本（参考本教程"安装Node.js"章节）
```

---

## 三、多平台验证格式

### 跨平台命令分开写

**必须分开的场景**：
1、命令语法不同（如环境变量设置）
2、路径格式不同（Windows用 `\`，其他用 `/`）
3、工具名称不同（如PowerShell vs bash）

**格式**：
```markdown
**验证是否成功**：

**Windows系统**：

```powershell
# Windows PowerShell命令
$env:ANTHROPIC_API_KEY
# 预期输出：sk-ant-api03-xxxxx
```

**macOS/Linux系统**：

```bash
# macOS/Linux bash命令
echo $ANTHROPIC_API_KEY
# 预期输出：sk-ant-api03-xxxxx
```
```

### 统一命令可合并

**可以合并的场景**：
1、命令完全相同
2、只有路径分隔符不同（可注明）

**格式**：
```markdown
**验证是否成功**（所有系统）：

```bash
# 检查版本号
node --version
# 预期输出：v22.x.x
```
```

---

## 四、验证结果判定

### 成功判定格式

```markdown
**成功标志**：
✅ 看到 `[预期输出内容]`

**恭喜！**[操作名称]已完成，可以进入下一步。
```

### 部分成功格式

```markdown
**部分成功**：
⚠️ 如果看到 `[部分成功的输出]`

**说明**：[解释这种情况]

**是否需要处理**：
- 如果[条件A]：可以继续，不影响后续操作
- 如果[条件B]：需要处理，参见下方解决方案
```

### 失败判定格式

```markdown
**失败标志**：
❌ 如果看到 `[错误信息]` 或 无任何输出

**不要慌！**这是常见问题，按以下步骤解决：

[解决方案]
```

---

## 五、验证检查清单

写完教程后，用以下清单自查：

```markdown
## 正确性验证检查清单

□ 每个安装步骤后都有验证方法
□ 验证命令标注了预期输出
□ 跨平台命令分开写了
□ 常见错误都有解决方案
□ 错误信息描述准确（直接复制真实错误信息）
□ 解决方案经过测试可行
```
