---
name: infographic
description: 📊 自动生成精美信息图（对比表/流程图/数据卡片）
version: 9.0.0
---

# 📊 信息图生成命令

**版本**：V9.0 | **更新日期**：2025-12-20

**智能检测文章类型，生成专业的HTML信息图并自动截图！**

---

## 使用方式

### 方式1：指定文章文件
```
/infographic articles/2025-11-11_某某对比文章_老金风格.md
```

### 方式2：自动查找最新文章
```
/infographic
```
会自动找articles目录下最新的文章并分析是否适合生成信息图

---

## 适用场景

### ✅ 必须生成信息图的文章类型

1、**产品对比类**
   - Claude Code vs Cursor
   - 免费版 vs 付费版
   - 工具A vs 工具B

2、**技术参数类**
   - 配置参数说明
   - 功能特性对比
   - 价格方案对比

3、**步骤流程类**
   - 安装教程（5步安装）
   - 配置流程（配置 → 测试 → 部署）
   - 工作流程图

4、**数据展示类**
   - 性能提升数据（60%提升）
   - 成本节省对比（省1000元/年）
   - 使用统计数据

### ❌ 不适合生成信息图的文章

- 纯观点输出文章
- 故事叙述类文章
- 短文章（<1000字）
- 纯代码教程
- 个人经验分享

---

## 信息图类型

### 类型1：对比表格

**适用**：产品对比、技术对比、方案对比

**生成效果**：
```
┌─────────────────────────────────────┐
│      Claude Code vs Cursor 对比     │
├──────────┬──────────┬───────────────┤
│ 对比维度 │Claude Code│   Cursor     │
├──────────┼──────────┼───────────────┤
│ 价格     │ 免费     │ 20美元/月     │
│ 界面     │ CLI命令行│ GUI图形界面   │
│ 灵活性   │ ⭐⭐⭐⭐⭐│ ⭐⭐⭐       │
│ 上手难度 │ 中等     │ 简单          │
└──────────┴──────────┴───────────────┘
```

### 类型2：流程图

**适用**：步骤说明、工作流、安装教程

**生成效果**：
```
┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐
│ 步骤1│───→│ 步骤2│───→│ 步骤3│───→│ 完成 │
│ 安装 │    │ 配置 │    │ 测试 │    │      │
└──────┘    └──────┘    └──────┘    └──────┘
```

### 类型3：数据卡片

**适用**：关键数据、核心指标、统计数据

**生成效果**：
```
┌──────────────────┐ ┌──────────────────┐
│   效率提升       │ │   成本节省       │
│                  │ │                  │
│      60%         │ │    1680元/年     │
│                  │ │                  │
└──────────────────┘ └──────────────────┘
```

---

## 执行流程（完全自动）

### 步骤1：智能分析文章类型

系统会自动检测文章内容，判断是否适合生成信息图：

**检测规则**：
- 包含"vs"、"对比"、"比较" → 对比表格
- 包含"步骤"、"流程"、"安装" → 流程图
- 包含百分比、价格、数据 → 数据卡片
- 不符合以上任一条件 → 不生成信息图

### 步骤2：提取关键数据

**对比表格数据提取**：
- 提取对比维度（价格、功能、性能等）
- 提取对比对象（产品A、产品B）
- 提取对比结果

**流程图数据提取**：
- 提取步骤标题
- 提取步骤描述
- 确定步骤顺序

**数据卡片提取**：
- 提取关键数字
- 提取数据标签
- 提取数据说明

### 步骤3：生成HTML信息图

使用精美的HTML模板生成信息图：

**模板特性**：
- 响应式设计
- 渐变色背景
- 阴影效果
- 专业排版
- 统一配色（紫色科技风）

### 步骤4：浏览器截图

使用Playwright MCP自动截图：

```python
# 自动调用Playwright MCP
mcp__Playwright__browser_navigate(url="file:///生成的HTML文件")
mcp__Playwright__browser_take_screenshot(
    filename="infographic.png",
    fullPage=False
)
```

### 步骤5：插入文章

- 将截图保存到`images/`目录
- 在文章合适位置插入图片
- 格式：`![信息图：xxx对比](images/infographic.png)`

---

## 输出报告示例

```
✅ 信息图生成完成！

📊 信息图分析：
- 文章类型：产品对比类
- 信息图类型：对比表格
- 对比维度：5个
- 对比对象：Claude Code、Cursor

📸 生成结果：
- HTML文件：infographics/comparison_claude_vs_cursor.html
- 截图文件：images/infographic_comparison.png
- 图片尺寸：800x600px

📝 已插入文章：
位置：第5段（对比说明段落后）
格式：![Claude Code vs Cursor对比表](images/infographic_comparison.png)

💡 建议：
- 预览信息图效果
- 如果需要调整，编辑HTML文件后重新截图
- 信息图已准备好发布！
```

---

## MCP依赖配置

### 必需的MCP服务

**Playwright MCP** - 浏览器自动化截图
- 通过MCP Router配置
- 无需API Key，自动安装

### 检查MCP状态

```bash
# 查看MCP服务状态
claude mcp list

# 应该看到：
# ✓ playwright - 浏览器自动化工具
```

---

## 常见问题

### Q1: 文章类型检测不准确？

**方案**：
- 手动指定信息图类型
- 在文章中明确标注对比维度
- 或者手动编辑生成的HTML

### Q2: 信息图样式不满意？

**方案**：
- 编辑生成的HTML文件
- 调整CSS样式（颜色、字体、间距）
- 重新运行截图命令

### Q3: Playwright截图失败？

**方案**：
- 检查Playwright是否正确安装
- 尝试手动打开HTML预览
- 使用浏览器开发者工具截图

### Q4: 信息图太大/太小？

**方案**：
- 调整HTML中的容器宽度
- 修改CSS的max-width属性
- 重新生成截图

---

## 技术实现

本命令调用Python脚本：
```
.claude/skills/gongzhonghao-writer/scripts/infographic_generator.py
```

详细实现说明见：
```
.claude/skills/gongzhonghao-writer/scripts/README_IMAGE_TOOLS.md
```

---

## 最佳实践

### 1、对比表格最佳实践

- 对比维度不超过6个（太多会显得拥挤）
- 使用符号增强视觉效果（✓ ✗ ⭐）
- 突出关键差异（用加粗或高亮）

### 2、流程图最佳实践

- 步骤不超过7个（符合记忆规律）
- 每个步骤标题简洁（3-5字）
- 箭头方向清晰（左→右或上→下）

### 3、数据卡片最佳实践

- 每行不超过3个卡片
- 数字要大、标签要清晰
- 统一卡片大小和配色

---

**记住：信息图让复杂信息一目了然，但不要滥用，只在确实需要时使用！**
