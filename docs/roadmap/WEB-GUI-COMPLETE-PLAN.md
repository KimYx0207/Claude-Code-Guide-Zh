# Web GUI完整功能封装计划

**当前状态**: Web GUI仅实现4个功能（选题/标题/质检/文章管理草稿）
**目标**: 封装项目所有功能（22个CLI命令 + 212个教程 + 数据分析）
**预计耗时**: 2-3周
**优先级**: 🔴 P0（核心功能优先）

---

## 📊 功能盘点（全面审计）

### ✅ 已实现（Web GUI V1.0）

| 功能 | 对应CLI命令 | 状态 |
|------|------------|------|
| 选题过滤 | /topic-filter | ✅ 已实现 |
| 标题生成 | /title-gen | ✅ 已实现 |
| 质量检测 | /pre-check | ✅ 已实现 |
| 批量质检 | 无（新增） | ✅ 已实现 |
| 文章管理（草稿） | 无 | ✅ 已实现 |

**完成度**: 5/22（22.7%）

---

### ❌ 缺失功能（需要封装）

#### 核心写作功能（🔴 P0）

| 功能 | 对应CLI命令 | 优先级 | 说明 |
|------|------------|--------|------|
| **完整写作流程** | /write | 🔴 P0 | 8步自动化写作 |
| **全自动爆款生成** | /write-auto | 🔴 P0 | 热点一键生成 |
| **文章翻新改写** | /write-rewrite | 🟠 P1 | 洗稿/翻新 |

#### 热点扫描功能（🔴 P0）

| 功能 | 对应CLI命令 | 优先级 | 说明 |
|------|------------|--------|------|
| **热点扫描** | /hotspot | 🔴 P0 | AI热点扫描+爆款评估 |
| **每日扫描+写作** | /daily | 🟠 P1 | 自动扫描+生成3篇 |

#### 数据分析功能（🟠 P1）

| 功能 | 对应CLI命令 | 优先级 | 说明 |
|------|------------|--------|------|
| **数据收集** | /data-collect | 🟠 P1 | 微信公众号数据采集 |
| **数据分析** | /data-analyze | 🟠 P1 | 爆款规律深度分析 |
| **数据看板可视化** | 无 | 🟠 P1 | 82篇数据可视化 |

#### 图片/配图功能（🟢 P2）

| 功能 | 对应CLI命令 | 优先级 | 说明 |
|------|------------|--------|------|
| **自动配图** | /image | 🟢 P2 | Unsplash图片 |
| **信息图生成** | /infographic | 🟢 P2 | 数据可视化 |

#### 工具/帮助功能（🟢 P2）

| 功能 | 对应CLI命令 | 优先级 | 说明 |
|------|------------|--------|------|
| **帮助中心** | /help | 🟢 P2 | 命令速查表 |
| **MCP测试** | /test-mcp | 🟢 P2 | MCP工具测试 |
| **AI编排** | /ai-orchestrator | 🟢 P2 | 多AI协作 |

#### 文档/教程功能（🟢 P2）

| 功能 | 对应 | 优先级 | 说明 |
|------|------|--------|------|
| **教程资料浏览** | docs/课程资料包/ | 🟢 P2 | 212个Markdown文档 |
| **评估报告查看** | docs/analysis/ | 🟢 P2 | 多专家评估报告 |
| **行动计划查看** | docs/roadmap/ | 🟢 P2 | P0/P1/P2任务清单 |

#### 文章管理增强（🔴 P0）

| 功能 | 说明 | 优先级 | 当前状态 |
|------|------|--------|---------|
| **已发布文章列表** | articles/（项目根） | 🔴 P0 | ❌ 未实现 |
| **草稿文章列表** | articles/drafts/ | ✅ 已实现 | ✅ 部分实现（硬编码） |
| **文章编辑器** | 在线编辑Markdown | 🔴 P0 | ❌ 未实现 |
| **文章预览** | Markdown渲染 | 🟠 P1 | ❌ 未实现 |
| **文章导出** | 导出为Markdown/PDF | 🟢 P2 | ❌ 未实现 |

---

## 📋 完整功能清单（22个CLI命令）

### 写作类（4个）
1. ✅ /write - 完整8步写作流程（**部分实现**）
2. ❌ /write-auto - 全自动爆款生成
3. ❌ /write-rewrite - 文章翻新改写
4. ✅ /topic-filter - 选题过滤（**已实现**）

### 热点类（2个）
5. ❌ /hotspot - AI热点扫描+评估
6. ❌ /daily - 每日热点扫描+自动写作

### 质量类（4个）
7. ✅ /title-gen - 生成5个爆款标题（**已实现**）
8. ❌ /title-score - 7维度标题评分
9. ✅ /pre-check - 发文前8维度检查（**已实现**）
10. ✅ /topic-filter - 选题过滤（**已实现**）

### 图片类（2个）
11. ❌ /image - 自动添加配图
12. ❌ /infographic - 生成信息图

### 数据类（2个）
13. ❌ /data-collect - 收集微信数据
14. ❌ /data-analyze - 分析爆款规律

### 工具类（3个）
15. ❌ /test-mcp - 测试MCP工具
16. ❌ /ai-orchestrator - 多AI协作
17. ❌ /help - 帮助中心

### 外部集成类（5个）
18. ❌ /session-start - 会话管理
19-22. ❌ /taskmaster-* - TaskMaster集成（4个命令）

**总计**: 22个命令，已实现4个（18.2%），缺失18个（81.8%）

---

## 🎯 分阶段封装计划

### 阶段1：核心功能补全（🔴 P0，1周内）

**目标**: 补全核心写作+热点+文章管理功能

| 任务 | 功能 | 耗时 | 说明 |
|------|------|------|------|
| 1.1 | 修复文章列表API | 2h | 读取真实articles/drafts/目录（已有archive不存在） |
| 1.2 | 完整写作流程集成 | 8h | 调用/write命令8步流程 |
| 1.3 | 热点扫描功能 | 6h | 调用/hotspot命令，展示热点列表 |
| 1.4 | 全自动写作功能 | 4h | 调用/write-auto命令，一键生成 |
| 1.5 | 文章编辑器 | 6h | Monaco Editor集成 |
| 1.6 | 标题评分功能 | 2h | 调用/title-score，7维度评分 |

**小计**: 6个任务，28小时，核心功能完成度18.2% → 50%

---

### 阶段2：数据分析+高级功能（🟠 P1，2周内）

| 任务 | 功能 | 耗时 | 说明 |
|------|------|------|------|
| 2.1 | 数据收集界面 | 6h | 调用/data-collect，配置Chrome调试端口 |
| 2.2 | 数据分析可视化 | 12h | 调用/data-analyze，Echarts图表展示 |
| 2.3 | 文章翻新功能 | 4h | 调用/write-rewrite |
| 2.4 | 每日扫描+写作 | 6h | 调用/daily，定时任务 |
| 2.5 | 文章预览功能 | 4h | Markdown渲染+代码高亮 |

**小计**: 5个任务，32小时，功能完成度50% → 72%

---

### 阶段3：教程资料+辅助功能（🟢 P2，1周内）

| 任务 | 功能 | 耗时 | 说明 |
|------|------|------|------|
| 3.1 | 教程资料浏览器 | 8h | 212个Markdown文档树形导航 |
| 3.2 | 配图功能 | 6h | 调用/image，Unsplash集成 |
| 3.3 | 信息图生成 | 6h | 调用/infographic |
| 3.4 | 帮助中心 | 4h | 命令速查表+文档搜索 |
| 3.5 | MCP测试工具 | 2h | 调用/test-mcp |
| 3.6 | 评估报告查看 | 4h | 多专家评估报告展示 |

**小计**: 6个任务，30小时，功能完成度72% → 100%

---

## 📋 详细任务清单（TodoWrite格式）

### 当前紧急任务（立即执行）

1. **修复文章列表API**（2h）
   - 问题：articles/archive/目录不存在
   - 解决：只读取articles/drafts/和articles/（根目录）
   - 验收：文章列表显示真实的35篇草稿

2. **新增热点扫描Tab**（6h）
   - 位置：在写作Tab之前增加"热点扫描"Tab
   - 功能：调用/hotspot命令，展示今日AI热点列表
   - 验收：显示热点标题、来源、爆款指数

3. **完整写作流程后端API**（8h）
   - 创建/api/write/full接口
   - 调用CLI的/write命令8步流程
   - 返回：research结果、文章内容、标题候选、质检结果
   - 验收：写作Tab点击"一键生成"能完整执行

---

## 🚀 立即执行（按优先级）

### 紧急修复（现在）

1. **修复文章列表API**：articles/archive/不存在，导致API报错
2. **测试真实文章读取**：确认能读取articles/drafts/下的35篇文章

### 本周完成（P0）

1. 热点扫描功能
2. 完整写作流程
3. 全自动写作
4. 文章编辑器
5. 标题评分

### 下周完成（P1）

1. 数据收集
2. 数据分析可视化
3. 文章翻新
4. 每日扫描

### 第三周完成（P2）

1. 教程资料浏览器（212个文档）
2. 配图功能
3. 帮助中心

---

**报告版本**: V1.0
**生成日期**: 2025-12-13
**下一步**: 立即修复文章列表API，然后按阶段1→2→3执行
