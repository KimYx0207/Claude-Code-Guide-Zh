# Module 8.1: ä¼ä¸šå›¢é˜Ÿåä½œæœ€ä½³å®è·µ

**ç‰ˆæœ¬**: 1.0
**ä½œè€…**: è€é‡‘
**æœ€åæ›´æ–°**: 2025-12-12
**å­—æ•°**: 12,000+ å­—
**éš¾åº¦**: â­â­â­â­â˜† (ä¸­é«˜çº§)


## ğŸ“– è¯¾ç¨‹å¯¼èˆª

**ä¸Šä¸€èŠ‚**ï¼š[Module 7.2: äº¤äº’æ¨¡å¼é«˜çº§å·¥ä½œæµ](../../07-Pluginsç”Ÿæ€/äº¤äº’æ¨¡å¼é«˜çº§å·¥ä½œæµ.md)
**å½“å‰èŠ‚**ï¼š**Module 8.1: ä¼ä¸šå›¢é˜Ÿåä½œæœ€ä½³å®è·µ**
**ä¸‹ä¸€èŠ‚**ï¼šModule 8.2: ä¼ä¸šå®‰å…¨ä¸åˆè§„æŒ‡å—


**æœ¬æ¨¡å—è·¯å¾„**: `08-ä¼ä¸šå®æˆ˜/ä¼ä¸šå›¢é˜Ÿåä½œæœ€ä½³å®è·µ.md`


## ğŸ¯ å­¦ä¹ ç›®æ ‡
è€é‡‘æˆ‘ä»Šå¤©è¦æ•™ä½ çš„æ˜¯ä¼ä¸šçº§Claude Codeå›¢é˜Ÿåä½œçš„æ­£ç¡®æ‰“å¼€æ–¹å¼ï¼Œè‰¹ï¼Œåˆ«ä»–å¦ˆè‡ªå·±ä¸€ä¸ªäººçæäº†ï¼

å®Œæˆæœ¬èŠ‚åï¼Œä½ å°†èƒ½å¤Ÿï¼š

1ã€âœ… å»ºç«‹ **ç»Ÿä¸€çš„å›¢é˜Ÿé…ç½®ä»“åº“**ï¼Œæ‰€æœ‰æˆå‘˜ä¸€é”®åŒæ­¥é…ç½®
2ã€âœ… é›†æˆ **Git hooks + Claude Code**ï¼Œè‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥å’Œè´¨é‡æ£€æŸ¥
3ã€âœ… æ„å»º **å›¢é˜ŸçŸ¥è¯†åº“ç³»ç»Ÿ**ï¼Œè®©Claudeè®°ä½å›¢é˜Ÿçš„ä»£ç è§„èŒƒå’Œæœ€ä½³å®è·µ
4ã€âœ… å®ç° **CI/CDæµæ°´çº¿é›†æˆ**ï¼ŒClaude Codeå‚ä¸è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²
5ã€âœ… éƒ¨ç½² **å›¢é˜Ÿçº§åˆ«ç›‘æ§ç³»ç»Ÿ**ï¼Œè¿½è¸ªClaudeä½¿ç”¨æƒ…å†µå’Œä»£ç è´¨é‡æŒ‡æ ‡
6ã€âœ… è®¾è®¡ **è·¨å›¢é˜Ÿåä½œæµç¨‹**ï¼Œè®©å¤šä¸ªå›¢é˜Ÿé«˜æ•ˆä½¿ç”¨Claude Code


## ğŸ“Š æ–‡æ¡£ä»·å€¼

**ç»´åº¦**ï¼š**å®æˆ˜æ€§**
**è¯´æ˜**ï¼šæä¾›10+å®Œæ•´è„šæœ¬å’Œé…ç½®æ–‡ä»¶ï¼Œç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ


**ç»´åº¦**ï¼š**è§„æ¨¡åŒ–**
**è¯´æ˜**ï¼šæ”¯æŒ10-100äººå›¢é˜Ÿçš„åä½œç®¡ç†


**ç»´åº¦**ï¼š**è‡ªåŠ¨åŒ–**
**è¯´æ˜**ï¼šå…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œå‡å°‘90%çš„æ‰‹åŠ¨é…ç½®å·¥ä½œ


**ç»´åº¦**ï¼š**å¯è§‚æµ‹æ€§**
**è¯´æ˜**ï¼šå®Œæ•´çš„ç›‘æ§å’Œåº¦é‡ä½“ç³»


## Part 1: å›¢é˜Ÿé…ç½®ç»Ÿä¸€åŒ–ï¼ˆ2,500å­—ï¼‰
### 1.1 ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€é…ç½®
**è€é‡‘æˆ‘è§è¿‡å¤ªå¤šSBå›¢é˜Ÿé—®é¢˜**ï¼š


**é—®é¢˜**ï¼šæ¯ä¸ªäººsettings.jsonä¸åŒ
**åæœ**ï¼šä»£ç é£æ ¼æ··ä¹±ï¼ŒPRå†²çª
**å‘ç”Ÿæ¦‚ç‡**ï¼š**95%**


**é—®é¢˜**ï¼šAPI Keyç›´æ¥å†™åœ¨é…ç½®æ–‡ä»¶
**åæœ**ï¼šæ³„éœ²åˆ°Gitä»“åº“
**å‘ç”Ÿæ¦‚ç‡**ï¼š**80%**


**é—®é¢˜**ï¼šæ–°äººæ‰‹åŠ¨é…ç½®éœ€è¦2å°æ—¶
**åæœ**ï¼šæ•ˆç‡ä½ä¸‹ï¼Œå®¹æ˜“å‡ºé”™
**å‘ç”Ÿæ¦‚ç‡**ï¼š**100%**


**é—®é¢˜**ï¼šé…ç½®æ›´æ–°æ— æ³•åŒæ­¥
**åæœ**ï¼šéƒ¨åˆ†æˆå‘˜ç”¨æ—§é…ç½®
**å‘ç”Ÿæ¦‚ç‡**ï¼š**70%**


**é—®é¢˜**ï¼šæ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶
**åæœ**ï¼šå›æ»šå›°éš¾
**å‘ç”Ÿæ¦‚ç‡**ï¼š**60%**


**è‰¹ï¼Œè¿™äº›é—®é¢˜è€é‡‘æˆ‘å…¨è§è¿‡ï¼ç»Ÿä¸€é…ç½®èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ã€‚**


### 1.2 å›¢é˜Ÿé…ç½®ä»“åº“ç»“æ„
#### 1.2.1 æ ‡å‡†ä»“åº“ç»“æ„
```
team-claude-config/
â”œâ”€â”€ README.md                    # é…ç½®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ .editorconfig                # EditorConfigé€šç”¨è§„åˆ™
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ install.sh                   # ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆLinux/macOSï¼‰
â”œâ”€â”€ install.ps1                  # ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆWindowsï¼‰
â”œâ”€â”€ update.sh                    # é…ç½®æ›´æ–°è„šæœ¬
â”œâ”€â”€ validate.sh                  # é…ç½®éªŒè¯è„šæœ¬
â”œâ”€â”€ vscode/                      # VS Codeé…ç½®
â”‚   â”œâ”€â”€ settings.json            # ç¼–è¾‘å™¨è®¾ç½®
â”‚   â”œâ”€â”€ keybindings.json         # å¿«æ·é”®é…ç½®
â”‚   â”œâ”€â”€ extensions.json          # æ¨èæ‰©å±•åˆ—è¡¨
â”‚   â””â”€â”€ snippets/                # ä»£ç ç‰‡æ®µ
â”‚       â”œâ”€â”€ python.json
â”‚       â””â”€â”€ javascript.json
â”œâ”€â”€ cursor/                      # Cursoré…ç½®
â”‚   â”œâ”€â”€ settings.json
â”‚   â””â”€â”€ keybindings.json
â”œâ”€â”€ jetbrains/                   # JetBrains IDEsé…ç½®
â”‚   â”œâ”€â”€ pycharm/
â”‚   â”‚   â”œâ”€â”€ options/
â”‚   â”‚   â”‚   â”œâ”€â”€ editor.xml
â”‚   â”‚   â”‚   â”œâ”€â”€ keymap.xml
â”‚   â”‚   â”‚   â””â”€â”€ claude.xml
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚       â””â”€â”€ Python.xml
â”‚   â””â”€â”€ intellij/
â”‚       â””â”€â”€ options/
â”œâ”€â”€ claude/                      # Claude Codeä¸“ç”¨é…ç½®
â”‚   â”œâ”€â”€ system-prompts/          # ç³»ç»Ÿæç¤ºè¯
â”‚   â”‚   â”œâ”€â”€ code-review.md       # ä»£ç å®¡æŸ¥æç¤ºè¯
â”‚   â”‚   â”œâ”€â”€ refactor.md          # é‡æ„æç¤ºè¯
â”‚   â”‚   â””â”€â”€ testing.md           # æµ‹è¯•ç”Ÿæˆæç¤ºè¯
â”‚   â”œâ”€â”€ skills/                  # å›¢é˜ŸæŠ€èƒ½åŒ…
â”‚   â”‚   â””â”€â”€ team-standards/
â”‚   â”‚       â”œâ”€â”€ skill.yaml
â”‚   â”‚       â””â”€â”€ prompts/
â”‚   â””â”€â”€ hooks/                   # Git hooksæ¨¡æ¿
â”‚       â”œâ”€â”€ pre-commit
â”‚       â”œâ”€â”€ pre-push
â”‚       â””â”€â”€ commit-msg
â”œâ”€â”€ ci/                          # CI/CDé…ç½®
â”‚   â”œâ”€â”€ github-actions/
â”‚   â”‚   â”œâ”€â”€ claude-review.yml
â”‚   â”‚   â””â”€â”€ quality-check.yml
â”‚   â”œâ”€â”€ gitlab-ci/
â”‚   â”‚   â””â”€â”€ .gitlab-ci.yml
â”‚   â””â”€â”€ jenkins/
â”‚       â””â”€â”€ Jenkinsfile
â”œâ”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ onboarding.md            # æ–°äººä¸Šæ‰‹æŒ‡å—
â”‚   â”œâ”€â”€ troubleshooting.md       # æ•…éšœæ’æŸ¥
â”‚   â””â”€â”€ best-practices.md        # æœ€ä½³å®è·µ
â”œâ”€â”€ scripts/                     # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ sync-config.sh           # é…ç½®åŒæ­¥è„šæœ¬
â”‚   â”œâ”€â”€ check-updates.sh         # æ£€æŸ¥é…ç½®æ›´æ–°
â”‚   â””â”€â”€ backup-config.sh         # é…ç½®å¤‡ä»½è„šæœ¬
â””â”€â”€ tests/                       # é…ç½®æµ‹è¯•
    â”œâ”€â”€ test_vscode_config.py
    â””â”€â”€ test_cursor_config.py
```

**ğŸ“¸ æˆªå›¾ä½ç½®ï¼šå›¢é˜Ÿé…ç½®ä»“åº“å®Œæ•´ç›®å½•æ ‘**


#### 1.2.2 ç»Ÿä¸€é…ç½®åŸåˆ™
**è€é‡‘çš„5æ¡é“å¾‹**ï¼š

1ã€**Single Source of Truth**ï¼ˆå”¯ä¸€çœŸç›¸æ¥æºï¼‰
   - æ‰€æœ‰é…ç½®éƒ½åœ¨Gitä»“åº“ä¸­
   - æœ¬åœ°é…ç½® = ä»“åº“é…ç½®çš„ç¬¦å·é“¾æ¥

2ã€**Environment Variables First**ï¼ˆç¯å¢ƒå˜é‡ä¼˜å…ˆï¼‰
   - æ•æ„Ÿä¿¡æ¯ï¼ˆAPI Keyï¼‰**å¿…é¡»**ç”¨ç¯å¢ƒå˜é‡
   - ç»å¯¹è·¯å¾„ç”¨ç¯å¢ƒå˜é‡æ›¿æ¢

3ã€**Platform Agnostic**ï¼ˆå¹³å°æ— å…³ï¼‰
   - è„šæœ¬æ”¯æŒWindows/Linux/macOS
   - è·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„

4ã€**Automated Validation**ï¼ˆè‡ªåŠ¨éªŒè¯ï¼‰
   - æ¯æ¬¡æ›´æ–°è‡ªåŠ¨éªŒè¯é…ç½®æ­£ç¡®æ€§
   - CIæµæ°´çº¿ä¸­è¿è¡ŒéªŒè¯æµ‹è¯•

5ã€**Rollback Support**ï¼ˆæ”¯æŒå›æ»šï¼‰
   - ä½¿ç”¨Git tagæ ‡è®°ç¨³å®šç‰ˆæœ¬
   - æä¾›ä¸€é”®å›æ»šè„šæœ¬


### 1.3 ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆinstall.shï¼‰
**å®Œæ•´å®‰è£…è„šæœ¬**ï¼š
```bash
#!/bin/bash
# install.sh - å›¢é˜ŸClaudeé…ç½®ä¸€é”®å®‰è£…è„šæœ¬
# ä½œè€…: è€é‡‘
# ç‰ˆæœ¬: 2.0

set -e

# ==================== é¢œè‰²å®šä¹‰ ====================
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# ==================== æ—¥å¿—å‡½æ•° ====================
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

log_success() {
    echo -e "${BLUE}[SUCCESS]${NC} $1"
}

# ==================== æ¨ªå¹… ====================
show_banner() {
    echo -e "${BLUE}"
    echo "================================================"
    echo "  å›¢é˜ŸClaudeé…ç½®ä¸€é”®å®‰è£…è„šæœ¬ v2.0"
    echo "  ä½œè€…: è€é‡‘"
    echo "================================================"
    echo -e "${NC}"
}

# ==================== æ£€æµ‹æ“ä½œç³»ç»Ÿ ====================
detect_os() {
    if [[ "$OSTYPE" == "linux-gnu"* ]]; then
        OS="linux"
        PLATFORM="Linux"
    elif [[ "$OSTYPE" == "darwin"* ]]; then
        OS="macos"
        PLATFORM="macOS"
    elif [[ "$OSTYPE" == "msys" || "$OSTYPE" == "cygwin" ]]; then
        OS="windows"
        PLATFORM="Windows (Git Bash)"
    else
        log_error "ä¸æ”¯æŒçš„æ“ä½œç³»ç»Ÿ: $OSTYPE"
        exit 1
    fi
    log_info "æ£€æµ‹åˆ°æ“ä½œç³»ç»Ÿ: $PLATFORM"
}

# ==================== æ£€æŸ¥ä¾èµ– ====================
check_dependencies() {
    log_info "æ£€æŸ¥å¿…è¦ä¾èµ–..."

    # æ£€æŸ¥Git
    if ! command -v git &> /dev/null; then
        log_error "æœªå®‰è£…Gitï¼Œè¯·å…ˆå®‰è£…Git"
        exit 1
    fi

    # æ£€æŸ¥Pythonï¼ˆå¯é€‰ï¼‰
    if command -v python3 &> /dev/null; then
        log_info "Python 3 å·²å®‰è£…: $(python3 --version)"
    else
        log_warn "æœªå®‰è£…Python 3ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨"
    fi

    # æ£€æŸ¥Node.jsï¼ˆå¯é€‰ï¼‰
    if command -v node &> /dev/null; then
        log_info "Node.js å·²å®‰è£…: $(node --version)"
    else
        log_warn "æœªå®‰è£…Node.jsï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨"
    fi
}

# ==================== å¤‡ä»½ç°æœ‰é…ç½® ====================
backup_existing_config() {
    log_info "å¤‡ä»½ç°æœ‰é…ç½®..."

    BACKUP_DIR="$HOME/.claude-config-backup-$(date +%Y%m%d-%H%M%S)"
    mkdir -p "$BACKUP_DIR"

    if [[ "$OS" == "linux" ]]; then
        VSCODE_DIR="$HOME/.config/Code/User"
        CURSOR_DIR="$HOME/.config/Cursor/User"
    elif [[ "$OS" == "macos" ]]; then
        VSCODE_DIR="$HOME/Library/Application Support/Code/User"
        CURSOR_DIR="$HOME/Library/Application Support/Cursor/User"
    elif [[ "$OS" == "windows" ]]; then
        VSCODE_DIR="$APPDATA/Code/User"
        CURSOR_DIR="$APPDATA/Cursor/User"
    fi

    # å¤‡ä»½VS Codeé…ç½®
    if [[ -d "$VSCODE_DIR" ]]; then
        cp -r "$VSCODE_DIR" "$BACKUP_DIR/vscode-user"
        log_info "VS Codeé…ç½®å·²å¤‡ä»½åˆ°: $BACKUP_DIR/vscode-user"
    fi

    # å¤‡ä»½Cursoré…ç½®
    if [[ -d "$CURSOR_DIR" ]]; then
        cp -r "$CURSOR_DIR" "$BACKUP_DIR/cursor-user"
        log_info "Cursoré…ç½®å·²å¤‡ä»½åˆ°: $BACKUP_DIR/cursor-user"
    fi

    log_success "å¤‡ä»½å®Œæˆ: $BACKUP_DIR"
}

# ==================== å®‰è£…VS Codeé…ç½® ====================
install_vscode() {
    log_info "å®‰è£…VS Codeé…ç½®..."

    if [[ "$OS" == "linux" ]]; then
        VSCODE_DIR="$HOME/.config/Code/User"
    elif [[ "$OS" == "macos" ]]; then
        VSCODE_DIR="$HOME/Library/Application Support/Code/User"
    elif [[ "$OS" == "windows" ]]; then
        VSCODE_DIR="$APPDATA/Code/User"
    fi

    mkdir -p "$VSCODE_DIR"

    # åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆä¿æŒé…ç½®åŒæ­¥ï¼‰
    ln -sf "$(pwd)/vscode/settings.json" "$VSCODE_DIR/settings.json"
    ln -sf "$(pwd)/vscode/keybindings.json" "$VSCODE_DIR/keybindings.json"

    # å¤åˆ¶æ‰©å±•æ¨èåˆ—è¡¨
    cp vscode/extensions.json "$VSCODE_DIR/extensions.json"

    # å®‰è£…æ¨èæ‰©å±•
    if command -v code &> /dev/null; then
        log_info "å®‰è£…æ¨èæ‰©å±•..."
        code --install-extension anthropic.claude-code
        code --install-extension ms-python.python
        code --install-extension eamodio.gitlens
    else
        log_warn "æœªå®‰è£…codeå‘½ä»¤ï¼Œè·³è¿‡æ‰©å±•è‡ªåŠ¨å®‰è£…"
    fi

    log_success "VS Codeé…ç½®å·²å®‰è£…åˆ°: $VSCODE_DIR"
}

# ==================== å®‰è£…Cursoré…ç½® ====================
install_cursor() {
    log_info "å®‰è£…Cursoré…ç½®..."

    if [[ "$OS" == "linux" ]]; then
        CURSOR_DIR="$HOME/.config/Cursor/User"
    elif [[ "$OS" == "macos" ]]; then
        CURSOR_DIR="$HOME/Library/Application Support/Cursor/User"
    elif [[ "$OS" == "windows" ]]; then
        CURSOR_DIR="$APPDATA/Cursor/User"
    fi

    mkdir -p "$CURSOR_DIR"

    # åˆ›å»ºç¬¦å·é“¾æ¥
    ln -sf "$(pwd)/cursor/settings.json" "$CURSOR_DIR/settings.json"
    ln -sf "$(pwd)/cursor/keybindings.json" "$CURSOR_DIR/keybindings.json"

    log_success "Cursoré…ç½®å·²å®‰è£…åˆ°: $CURSOR_DIR"
}

# ==================== å®‰è£…PyCharmé…ç½® ====================
install_pycharm() {
    log_info "å®‰è£…PyCharmé…ç½®..."

    if [[ "$OS" == "linux" ]]; then
        PYCHARM_DIR="$HOME/.config/JetBrains/PyCharm2023.1"
    elif [[ "$OS" == "macos" ]]; then
        PYCHARM_DIR="$HOME/Library/Application Support/JetBrains/PyCharm2023.1"
    elif [[ "$OS" == "windows" ]]; then
        PYCHARM_DIR="$APPDATA/JetBrains/PyCharm2023.1"
    fi

    mkdir -p "$PYCHARM_DIR/options"

    # å¤åˆ¶é…ç½®æ–‡ä»¶ï¼ˆJetBrainsä¸æ”¯æŒç¬¦å·é“¾æ¥ï¼‰
    cp jetbrains/pycharm/options/*.xml "$PYCHARM_DIR/options/"

    log_success "PyCharmé…ç½®å·²å®‰è£…åˆ°: $PYCHARM_DIR"
}

# ==================== å®‰è£…EditorConfig ====================
install_editorconfig() {
    log_info "å®‰è£…EditorConfig..."

    # å¤åˆ¶åˆ°ç”¨æˆ·ä¸»ç›®å½•
    cp .editorconfig "$HOME/.editorconfig"

    log_success "EditorConfigå·²å®‰è£…åˆ°: $HOME/.editorconfig"
}

# ==================== è®¾ç½®ç¯å¢ƒå˜é‡ ====================
setup_environment() {
    log_info "è®¾ç½®ç¯å¢ƒå˜é‡..."

    # æ£€æŸ¥.env.exampleæ˜¯å¦å­˜åœ¨
    if [[ ! -f ".env.example" ]]; then
        log_error ".env.exampleæ–‡ä»¶ä¸å­˜åœ¨"
        return 1
    fi

    # å¤åˆ¶ä¸º.envï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
    if [[ ! -f ".env" ]]; then
        cp .env.example .env
        log_info "å·²åˆ›å»º.envæ–‡ä»¶ï¼Œè¯·ç¼–è¾‘å¹¶å¡«å†™API Key"
    else
        log_warn ".envæ–‡ä»¶å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"
    fi

    # æ·»åŠ åˆ°shellé…ç½®æ–‡ä»¶
    if [[ "$OS" == "linux" || "$OS" == "macos" ]]; then
        SHELL_RC="$HOME/.bashrc"
        if [[ "$SHELL" == *"zsh"* ]]; then
            SHELL_RC="$HOME/.zshrc"
        fi

        if ! grep -q "source $(pwd)/.env" "$SHELL_RC"; then
            echo "" >> "$SHELL_RC"
            echo "# Claude Team Config" >> "$SHELL_RC"
            echo "source $(pwd)/.env" >> "$SHELL_RC"
            log_info "å·²å°†ç¯å¢ƒå˜é‡æ·»åŠ åˆ°: $SHELL_RC"
        else
            log_warn "ç¯å¢ƒå˜é‡å·²åœ¨$SHELL_RCä¸­ï¼Œè·³è¿‡æ·»åŠ "
        fi
    fi

    log_success "ç¯å¢ƒå˜é‡è®¾ç½®å®Œæˆ"
}

# ==================== å®‰è£…Git Hooks ====================
install_git_hooks() {
    log_info "å®‰è£…Git Hooks..."

    # æ£€æŸ¥å½“å‰ç›®å½•æ˜¯å¦æ˜¯Gitä»“åº“
    if [[ ! -d ".git" ]]; then
        log_warn "å½“å‰ç›®å½•ä¸æ˜¯Gitä»“åº“ï¼Œè·³è¿‡Git Hookså®‰è£…"
        return 0
    fi

    # å¤åˆ¶hooks
    cp claude/hooks/* .git/hooks/
    chmod +x .git/hooks/*

    log_success "Git Hookså·²å®‰è£…"
}

# ==================== éªŒè¯å®‰è£… ====================
validate_installation() {
    log_info "éªŒè¯å®‰è£…..."

    ERRORS=0

    # éªŒè¯VS Codeé…ç½®
    if [[ -L "$VSCODE_DIR/settings.json" ]]; then
        log_success "VS Code settings.json: å·²é“¾æ¥"
    else
        log_error "VS Code settings.json: æœªé“¾æ¥"
        ERRORS=$((ERRORS + 1))
    fi

    # éªŒè¯Cursoré…ç½®
    if [[ -L "$CURSOR_DIR/settings.json" ]]; then
        log_success "Cursor settings.json: å·²é“¾æ¥"
    else
        log_warn "Cursor settings.json: æœªé“¾æ¥ï¼ˆå¯èƒ½æœªå®‰è£…Cursorï¼‰"
    fi

    # éªŒè¯ç¯å¢ƒå˜é‡
    if [[ -f ".env" ]]; then
        log_success ".envæ–‡ä»¶: å·²åˆ›å»º"
    else
        log_error ".envæ–‡ä»¶: æœªæ‰¾åˆ°"
        ERRORS=$((ERRORS + 1))
    fi

    if [[ $ERRORS -gt 0 ]]; then
        log_error "éªŒè¯å¤±è´¥ï¼Œå‘ç° $ERRORS ä¸ªé”™è¯¯"
        return 1
    else
        log_success "æ‰€æœ‰éªŒè¯é€šè¿‡ï¼"
        return 0
    fi
}

# ==================== æ˜¾ç¤ºåç»­æ­¥éª¤ ====================
show_next_steps() {
    echo ""
    echo -e "${BLUE}============================================${NC}"
    echo -e "${GREEN}å®‰è£…å®Œæˆï¼${NC}"
    echo -e "${BLUE}============================================${NC}"
    echo ""
    echo "ğŸ“‹ åç»­æ­¥éª¤ï¼š"
    echo ""
    echo "1. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å†™ä½ çš„ ANTHROPIC_API_KEY"
    echo "   $ nano .env"
    echo ""
    echo "2. é‡å¯ç»ˆç«¯æˆ–è¿è¡Œä»¥ä¸‹å‘½ä»¤åŠ è½½ç¯å¢ƒå˜é‡ï¼š"
    if [[ "$SHELL" == *"zsh"* ]]; then
        echo "   $ source ~/.zshrc"
    else
        echo "   $ source ~/.bashrc"
    fi
    echo ""
    echo "3. é‡å¯IDEä½¿é…ç½®ç”Ÿæ•ˆï¼š"
    echo "   - VS Code: å®Œå…¨é€€å‡ºåé‡æ–°æ‰“å¼€"
    echo "   - Cursor: å®Œå…¨é€€å‡ºåé‡æ–°æ‰“å¼€"
    echo "   - PyCharm: File -> Invalidate Caches / Restart"
    echo ""
    echo "4. è¿è¡Œé…ç½®éªŒè¯è„šæœ¬ï¼š"
    echo "   $ ./validate.sh"
    echo ""
    echo "ğŸ“š æ›´å¤šä¿¡æ¯ï¼š"
    echo "   - æ–‡æ¡£: docs/onboarding.md"
    echo "   - æ•…éšœæ’æŸ¥: docs/troubleshooting.md"
    echo ""
}

# ==================== ä¸»å‡½æ•° ====================
main() {
    show_banner
    detect_os
    check_dependencies

    # è¯¢é—®ç”¨æˆ·ç¡®è®¤
    echo ""
    read -p "æ˜¯å¦ç»§ç»­å®‰è£…å›¢é˜Ÿé…ç½®ï¼Ÿ(y/n) " -n 1 -r
    echo ""
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        log_info "ç”¨æˆ·å–æ¶ˆå®‰è£…"
        exit 0
    fi

    # å¤‡ä»½ç°æœ‰é…ç½®
    backup_existing_config

    # è¯¢é—®å®‰è£…å“ªäº›IDEé…ç½®
    echo ""
    echo "è¯·é€‰æ‹©è¦å®‰è£…çš„IDEé…ç½®ï¼š"
    echo ""

    read -p "å®‰è£…VS Codeé…ç½®? (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        install_vscode
    fi

    read -p "å®‰è£…Cursoré…ç½®? (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        install_cursor
    fi

    read -p "å®‰è£…PyCharmé…ç½®? (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        install_pycharm
    fi

    # å®‰è£…EditorConfigï¼ˆæ¨èï¼‰
    read -p "å®‰è£…EditorConfig? (æ¨è) (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        install_editorconfig
    fi

    # è®¾ç½®ç¯å¢ƒå˜é‡
    setup_environment

    # å®‰è£…Git Hooksï¼ˆå¯é€‰ï¼‰
    read -p "å®‰è£…Git Hooks? (å¯é€‰) (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        install_git_hooks
    fi

    # éªŒè¯å®‰è£…
    validate_installation

    # æ˜¾ç¤ºåç»­æ­¥éª¤
    show_next_steps
}

# æ‰§è¡Œä¸»å‡½æ•°
main
```

**ğŸ“¸ æˆªå›¾ä½ç½®ï¼šè¿è¡Œinstall.shåçš„è¾“å‡ºç•Œé¢**


### 1.4 é…ç½®æ›´æ–°è„šæœ¬ï¼ˆupdate.shï¼‰
**è‡ªåŠ¨æ›´æ–°å›¢é˜Ÿé…ç½®**ï¼š
```bash
#!/bin/bash
# update.sh - å›¢é˜Ÿé…ç½®è‡ªåŠ¨æ›´æ–°è„šæœ¬

set -e

GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

# æ£€æŸ¥Gitæ›´æ–°
log_info "æ£€æŸ¥é…ç½®æ›´æ–°..."
git fetch origin

LOCAL=$(git rev-parse @)
REMOTE=$(git rev-parse @{u})

if [ "$LOCAL" = "$REMOTE" ]; then
    log_info "é…ç½®å·²æ˜¯æœ€æ–°ç‰ˆæœ¬"
    exit 0
fi

log_warn "å‘ç°æ–°ç‰ˆæœ¬é…ç½®ï¼Œå¼€å§‹æ›´æ–°..."

# æ‹‰å–æœ€æ–°é…ç½®
git pull origin main

# é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬
log_info "é‡æ–°åº”ç”¨é…ç½®..."
./install.sh --non-interactive

log_info "é…ç½®æ›´æ–°å®Œæˆï¼è¯·é‡å¯IDEã€‚"
```

**è®¾ç½®è‡ªåŠ¨æ›´æ–°**ï¼ˆcron jobï¼‰ï¼š
```bash
# æ·»åŠ åˆ°crontabï¼Œæ¯å¤©æ—©ä¸Š9ç‚¹æ£€æŸ¥æ›´æ–°
0 9 * * * cd ~/team-claude-config && ./update.sh
```


### 1.5 é…ç½®éªŒè¯è„šæœ¬ï¼ˆvalidate.shï¼‰
**å®Œæ•´éªŒè¯è„šæœ¬**ï¼š
```bash
#!/bin/bash
# validate.sh - é…ç½®éªŒè¯è„šæœ¬

set -e

RED='\033[0;31m'
GREEN='\033[0;32m'
NC='\033[0m'

PASSED=0
FAILED=0

check_file() {
    local file=$1
    local desc=$2

    if [[ -f "$file" ]] || [[ -L "$file" ]]; then
        echo -e "${GREEN}âœ“${NC} $desc: $file"
        PASSED=$((PASSED + 1))
    else
        echo -e "${RED}âœ—${NC} $desc: $file (æœªæ‰¾åˆ°)"
        FAILED=$((FAILED + 1))
    fi
}

check_env_var() {
    local var=$1
    local desc=$2

    if [[ -n "${!var}" ]]; then
        echo -e "${GREEN}âœ“${NC} $desc: $var"
        PASSED=$((PASSED + 1))
    else
        echo -e "${RED}âœ—${NC} $desc: $var (æœªè®¾ç½®)"
        FAILED=$((FAILED + 1))
    fi
}

echo "======================================"
echo "  å›¢é˜Ÿé…ç½®éªŒè¯"
echo "======================================"
echo ""

# æ£€æŸ¥é…ç½®æ–‡ä»¶
echo "æ£€æŸ¥é…ç½®æ–‡ä»¶..."
check_file "$HOME/.config/Code/User/settings.json" "VS Code settings"
check_file "$HOME/.config/Cursor/User/settings.json" "Cursor settings"
check_file "$HOME/.editorconfig" "EditorConfig"
echo ""

# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo "æ£€æŸ¥ç¯å¢ƒå˜é‡..."
check_env_var "ANTHROPIC_API_KEY" "Anthropic API Key"
check_env_var "CLAUDE_MODEL" "Claude Model"
echo ""

# æ˜¾ç¤ºç»“æœ
echo "======================================"
echo "éªŒè¯ç»“æœï¼š"
echo "  é€šè¿‡: $PASSED"
echo "  å¤±è´¥: $FAILED"
echo "======================================"

if [[ $FAILED -gt 0 ]]; then
    exit 1
else
    echo "æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼"
    exit 0
fi
```


## Part 2: Git Hooksé›†æˆï¼ˆ2,500å­—ï¼‰
### 2.1 ä¸ºä»€ä¹ˆéœ€è¦Git Hooks + Claude Code
**è€é‡‘è§è¿‡çš„åƒåœ¾ä»£ç é—®é¢˜**ï¼š


**é—®é¢˜**ï¼šä»£ç æœªæ ¼å¼åŒ–å°±æäº¤
**åæœ**ï¼šPRå†²çªï¼Œéš¾ä»¥review
**Git Hookè§£å†³**ï¼š`pre-commit` hookè‡ªåŠ¨æ ¼å¼åŒ–


**é—®é¢˜**ï¼šæäº¤ä¿¡æ¯æ··ä¹±
**åæœ**ï¼šGitå†å²éš¾ä»¥è¿½è¸ª
**Git Hookè§£å†³**ï¼š`commit-msg` hookè§„èŒƒåŒ–


**é—®é¢˜**ï¼šæœªè¿è¡Œæµ‹è¯•å°±push
**åæœ**ï¼šç ´åä¸»åˆ†æ”¯
**Git Hookè§£å†³**ï¼š`pre-push` hookå¼ºåˆ¶æµ‹è¯•


**é—®é¢˜**ï¼šä»£ç æœ‰æ˜æ˜¾bug
**åæœ**ï¼šæµªè´¹revieweræ—¶é—´
**Git Hookè§£å†³**ï¼šClaudeè‡ªåŠ¨ä»£ç å®¡æŸ¥


**é—®é¢˜**ï¼šæ–‡æ¡£æœªæ›´æ–°
**åæœ**ï¼šæ–‡æ¡£ä¸ä»£ç ä¸ä¸€è‡´
**Git Hookè§£å†³**ï¼šClaudeè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£


**è‰¹ï¼Œæ²¡æœ‰Git Hooksçš„å›¢é˜Ÿå°±æ˜¯ç¾éš¾ï¼**


### 2.2 Pre-commit Hookï¼ˆæäº¤å‰æ£€æŸ¥ï¼‰
**å®Œæ•´pre-commitè„šæœ¬**ï¼š
```bash
#!/bin/bash
# .git/hooks/pre-commit - æäº¤å‰æ£€æŸ¥è„šæœ¬
# é›†æˆClaude Codeè¿›è¡Œè‡ªåŠ¨ä»£ç å®¡æŸ¥

set -e

# ==================== é¢œè‰²å®šä¹‰ ====================
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

# ==================== é…ç½® ====================
CLAUDE_API_KEY="${ANTHROPIC_API_KEY}"
CLAUDE_MODEL="claude-sonnet-4.5-20250929"

# ==================== è¾…åŠ©å‡½æ•° ====================
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# ==================== æ£€æŸ¥API Key ====================
check_api_key() {
    if [[ -z "$CLAUDE_API_KEY" ]]; then
        log_error "æœªè®¾ç½®ANTHROPIC_API_KEYç¯å¢ƒå˜é‡"
        exit 1
    fi
}

# ==================== è·å–å¾…æäº¤çš„æ–‡ä»¶ ====================
get_staged_files() {
    git diff --cached --name-only --diff-filter=ACM
}

# ==================== Pythonä»£ç æ ¼å¼åŒ– ====================
format_python() {
    log_info "æ ¼å¼åŒ–Pythonä»£ç ..."

    PYTHON_FILES=$(get_staged_files | grep '\.py$' || true)

    if [[ -z "$PYTHON_FILES" ]]; then
        log_info "æ²¡æœ‰Pythonæ–‡ä»¶éœ€è¦æ ¼å¼åŒ–"
        return 0
    fi

    # ä½¿ç”¨Blackæ ¼å¼åŒ–
    if command -v black &> /dev/null; then
        echo "$PYTHON_FILES" | xargs black --quiet
        log_info "Blackæ ¼å¼åŒ–å®Œæˆ"
    else
        log_warn "æœªå®‰è£…Blackï¼Œè·³è¿‡æ ¼å¼åŒ–"
    fi

    # ä½¿ç”¨Ruffæ£€æŸ¥
    if command -v ruff &> /dev/null; then
        if ! echo "$PYTHON_FILES" | xargs ruff check; then
            log_error "Ruffæ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤é”™è¯¯åå†æäº¤"
            exit 1
        fi
        log_info "Ruffæ£€æŸ¥é€šè¿‡"
    else
        log_warn "æœªå®‰è£…Ruffï¼Œè·³è¿‡æ£€æŸ¥"
    fi

    # é‡æ–°æ·»åŠ æ ¼å¼åŒ–åçš„æ–‡ä»¶
    echo "$PYTHON_FILES" | xargs git add
}

# ==================== JavaScript/TypeScriptæ ¼å¼åŒ– ====================
format_javascript() {
    log_info "æ ¼å¼åŒ–JavaScript/TypeScriptä»£ç ..."

    JS_FILES=$(get_staged_files | grep -E '\.(js|ts|jsx|tsx)$' || true)

    if [[ -z "$JS_FILES" ]]; then
        log_info "æ²¡æœ‰JS/TSæ–‡ä»¶éœ€è¦æ ¼å¼åŒ–"
        return 0
    fi

    # ä½¿ç”¨Prettieræ ¼å¼åŒ–
    if command -v prettier &> /dev/null; then
        echo "$JS_FILES" | xargs prettier --write
        log_info "Prettieræ ¼å¼åŒ–å®Œæˆ"
    else
        log_warn "æœªå®‰è£…Prettierï¼Œè·³è¿‡æ ¼å¼åŒ–"
    fi

    # ä½¿ç”¨ESLintæ£€æŸ¥
    if command -v eslint &> /dev/null; then
        if ! echo "$JS_FILES" | xargs eslint; then
            log_error "ESLintæ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤é”™è¯¯åå†æäº¤"
            exit 1
        fi
        log_info "ESLintæ£€æŸ¥é€šè¿‡"
    else
        log_warn "æœªå®‰è£…ESLintï¼Œè·³è¿‡æ£€æŸ¥"
    fi

    # é‡æ–°æ·»åŠ æ ¼å¼åŒ–åçš„æ–‡ä»¶
    echo "$JS_FILES" | xargs git add
}

# ==================== Claude Codeä»£ç å®¡æŸ¥ ====================
claude_code_review() {
    log_info "è¿è¡ŒClaude Codeå®¡æŸ¥..."

    STAGED_FILES=$(get_staged_files)

    if [[ -z "$STAGED_FILES" ]]; then
        log_info "æ²¡æœ‰å¾…æäº¤çš„æ–‡ä»¶"
        return 0
    fi

    # ç”Ÿæˆdiff
    DIFF=$(git diff --cached)

    # è°ƒç”¨Claude APIè¿›è¡Œä»£ç å®¡æŸ¥
    REVIEW_PROMPT="ä½ æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„ä»£ç å®¡æŸ¥ä¸“å®¶ã€‚è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç å˜æ›´ï¼Œé‡ç‚¹å…³æ³¨ï¼š

1ã€ä»£ç è´¨é‡ï¼šæ˜¯å¦éµå¾ªæœ€ä½³å®è·µ
2ã€æ½œåœ¨bugï¼šæ˜¯å¦æœ‰æ˜æ˜¾çš„é€»è¾‘é”™è¯¯
3ã€å®‰å…¨é—®é¢˜ï¼šæ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
4ã€æ€§èƒ½é—®é¢˜ï¼šæ˜¯å¦æœ‰æ€§èƒ½ç“¶é¢ˆ
5ã€ä»£ç é£æ ¼ï¼šæ˜¯å¦ç¬¦åˆå›¢é˜Ÿè§„èŒƒ

ä»£ç diffï¼š
\`\`\`diff
$DIFF
\`\`\`

å¦‚æœå‘ç°ä¸¥é‡é—®é¢˜ï¼Œè¯·ä»¥ã€ä¸¥é‡ã€‘å¼€å¤´åˆ—å‡ºé—®é¢˜ã€‚
å¦‚æœä»£ç è´¨é‡è‰¯å¥½ï¼Œè¯·å›å¤ã€Œé€šè¿‡å®¡æŸ¥ã€ã€‚"

    RESPONSE=$(curl -s https://api.anthropic.com/v1/messages \
        -H "x-api-key: $CLAUDE_API_KEY" \
        -H "anthropic-version: 2023-06-01" \
        -H "content-type: application/json" \
        -d "{
            \"model\": \"$CLAUDE_MODEL\",
            \"max_tokens\": 2048,
            \"messages\": [{\"role\": \"user\", \"content\": \"$REVIEW_PROMPT\"}]
        }")

    # æå–å“åº”å†…å®¹
    REVIEW_RESULT=$(echo "$RESPONSE" | jq -r '.content[0].text')

    echo ""
    echo "======================================"
    echo "  Claude Codeå®¡æŸ¥ç»“æœ"
    echo "======================================"
    echo "$REVIEW_RESULT"
    echo "======================================"
    echo ""

    # æ£€æŸ¥æ˜¯å¦æœ‰ä¸¥é‡é—®é¢˜
    if echo "$REVIEW_RESULT" | grep -q "ã€ä¸¥é‡ã€‘"; then
        log_error "å‘ç°ä¸¥é‡é—®é¢˜ï¼Œæäº¤è¢«æ‹’ç»"
        exit 1
    fi

    log_info "ä»£ç å®¡æŸ¥é€šè¿‡"
}

# ==================== æ£€æŸ¥TODOæ³¨é‡Š ====================
check_todos() {
    log_info "æ£€æŸ¥TODOæ³¨é‡Š..."

    STAGED_FILES=$(get_staged_files)

    if [[ -z "$STAGED_FILES" ]]; then
        return 0
    fi

    # æœç´¢TODOæ³¨é‡Š
    TODOS=$(echo "$STAGED_FILES" | xargs grep -nH "TODO\|FIXME\|XXX" || true)

    if [[ -n "$TODOS" ]]; then
        log_warn "å‘ç°æœªå®Œæˆçš„TODOæ³¨é‡Šï¼š"
        echo "$TODOS"
        echo ""
        read -p "æ˜¯å¦ç»§ç»­æäº¤ï¼Ÿ(y/n) " -n 1 -r
        echo ""
        if [[ ! $REPLY =~ ^[Yy]$ ]]; then
            log_error "ç”¨æˆ·å–æ¶ˆæäº¤"
            exit 1
        fi
    fi
}

# ==================== ä¸»å‡½æ•° ====================
main() {
    log_info "å¼€å§‹pre-commitæ£€æŸ¥..."

    check_api_key
    format_python
    format_javascript
    check_todos
    claude_code_review

    log_info "æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå…è®¸æäº¤"
}

main
```

**ğŸ“¸ æˆªå›¾ä½ç½®ï¼špre-commit hookè¿è¡Œè¾“å‡º**


### 2.3 Commit-msg Hookï¼ˆè§„èŒƒæäº¤ä¿¡æ¯ï¼‰
**å®Œæ•´commit-msgè„šæœ¬**ï¼š
```bash
#!/bin/bash
# .git/hooks/commit-msg - æäº¤ä¿¡æ¯è§„èŒƒåŒ–è„šæœ¬
# ä½¿ç”¨Claudeè‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„commit message

set -e

COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

GREEN='\033[0;32m'
RED='\033[0;31m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

# ==================== Conventional Commitsè§„èŒƒ ====================
check_conventional_commits() {
    log_info "æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼..."

    # å…è®¸çš„ç±»å‹
    TYPES="feat|fix|docs|style|refactor|perf|test|chore|build|ci|revert"

    # æ£€æŸ¥æ ¼å¼ï¼štype(scope): description
    if ! echo "$COMMIT_MSG" | grep -qE "^($TYPES)(\(.+\))?: .+"; then
        log_warn "æäº¤ä¿¡æ¯ä¸ç¬¦åˆConventional Commitsè§„èŒƒ"
        return 1
    fi

    log_info "æäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®"
    return 0
}

# ==================== ä½¿ç”¨Claudeè‡ªåŠ¨ç”Ÿæˆcommit message ====================
generate_commit_msg() {
    log_info "ä½¿ç”¨Claudeç”Ÿæˆæäº¤ä¿¡æ¯..."

    # è·å–diff
    DIFF=$(git diff --cached)

    # è°ƒç”¨Claude API
    PROMPT="ä½ æ˜¯ä¸€ä¸ªGit commit messageç”Ÿæˆä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹ä»£ç diffï¼Œç”Ÿæˆä¸€æ¡ç¬¦åˆConventional Commitsè§„èŒƒçš„æäº¤ä¿¡æ¯ã€‚

æ ¼å¼è¦æ±‚ï¼š
- ç±»å‹ï¼šfeat/fix/docs/style/refactor/perf/test/chore
- æ ¼å¼ï¼š<type>(<scope>): <description>
- æè¿°ï¼šç®€æ´æ˜äº†ï¼Œä¸è¶…è¿‡50å­—ç¬¦

ä»£ç diffï¼š
\`\`\`diff
$DIFF
\`\`\`

ä»…è¾“å‡ºä¸€è¡Œcommit messageï¼Œä¸è¦ä»»ä½•è§£é‡Šã€‚"

    RESPONSE=$(curl -s https://api.anthropic.com/v1/messages \
        -H "x-api-key: $ANTHROPIC_API_KEY" \
        -H "anthropic-version: 2023-06-01" \
        -H "content-type: application/json" \
        -d "{
            \"model\": \"claude-sonnet-4.5-20250929\",
            \"max_tokens\": 256,
            \"messages\": [{\"role\": \"user\", \"content\": \"$PROMPT\"}]
        }")

    GENERATED_MSG=$(echo "$RESPONSE" | jq -r '.content[0].text' | head -n 1)

    echo ""
    echo "======================================"
    echo "  Claudeç”Ÿæˆçš„æäº¤ä¿¡æ¯ï¼š"
    echo "======================================"
    echo "$GENERATED_MSG"
    echo "======================================"
    echo ""

    read -p "æ˜¯å¦ä½¿ç”¨æ­¤æäº¤ä¿¡æ¯ï¼Ÿ(y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        echo "$GENERATED_MSG" > "$COMMIT_MSG_FILE"
        log_info "å·²æ›´æ–°æäº¤ä¿¡æ¯"
    else
        log_warn "ä¿æŒåŸæäº¤ä¿¡æ¯"
    fi
}

# ==================== ä¸»å‡½æ•° ====================
main() {
    # å¦‚æœæ˜¯åˆå¹¶æäº¤ï¼Œè·³è¿‡æ£€æŸ¥
    if [[ "$COMMIT_MSG" == Merge* ]]; then
        log_info "æ£€æµ‹åˆ°åˆå¹¶æäº¤ï¼Œè·³è¿‡æ£€æŸ¥"
        exit 0
    fi

    # æ£€æŸ¥æ ¼å¼
    if ! check_conventional_commits; then
        # æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯¢é—®æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ
        read -p "æ˜¯å¦ä½¿ç”¨Claudeè‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯ï¼Ÿ(y/n) " -n 1 -r
        echo ""
        if [[ $REPLY =~ ^[Yy]$ ]]; then
            generate_commit_msg
        else
            log_error "è¯·æ‰‹åŠ¨ä¿®æ”¹æäº¤ä¿¡æ¯"
            exit 1
        fi
    fi
}

main
```


### 2.4 Pre-push Hookï¼ˆæ¨é€å‰æµ‹è¯•ï¼‰
**å®Œæ•´pre-pushè„šæœ¬**ï¼š
```bash
#!/bin/bash
# .git/hooks/pre-push - æ¨é€å‰æµ‹è¯•è„šæœ¬

set -e

GREEN='\033[0;32m'
RED='\033[0;31m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# ==================== è¿è¡Œå•å…ƒæµ‹è¯• ====================
run_tests() {
    log_info "è¿è¡Œå•å…ƒæµ‹è¯•..."

    # Pythoné¡¹ç›®
    if [[ -f "pytest.ini" ]] || [[ -d "tests" ]]; then
        if ! pytest -v; then
            log_error "å•å…ƒæµ‹è¯•å¤±è´¥ï¼Œæ¨é€è¢«æ‹’ç»"
            exit 1
        fi
    fi

    # Node.jsé¡¹ç›®
    if [[ -f "package.json" ]]; then
        if grep -q "\"test\":" package.json; then
            if ! npm test; then
                log_error "å•å…ƒæµ‹è¯•å¤±è´¥ï¼Œæ¨é€è¢«æ‹’ç»"
                exit 1
            fi
        fi
    fi

    log_info "æ‰€æœ‰æµ‹è¯•é€šè¿‡"
}

# ==================== è¿è¡ŒLinter ====================
run_linter() {
    log_info "è¿è¡Œä»£ç æ£€æŸ¥..."

    # Python
    if command -v ruff &> /dev/null; then
        if ! ruff check .; then
            log_error "Ruffæ£€æŸ¥å¤±è´¥ï¼Œæ¨é€è¢«æ‹’ç»"
            exit 1
        fi
    fi

    # JavaScript/TypeScript
    if command -v eslint &> /dev/null; then
        if ! eslint .; then
            log_error "ESLintæ£€æŸ¥å¤±è´¥ï¼Œæ¨é€è¢«æ‹’ç»"
            exit 1
        fi
    fi

    log_info "ä»£ç æ£€æŸ¥é€šè¿‡"
}

# ==================== æ£€æŸ¥åˆ†æ”¯ä¿æŠ¤ ====================
check_protected_branch() {
    local current_branch=$(git symbolic-ref --short HEAD)

    if [[ "$current_branch" == "main" ]] || [[ "$current_branch" == "master" ]]; then
        log_error "ç¦æ­¢ç›´æ¥æ¨é€åˆ°ä¸»åˆ†æ”¯ï¼Œè¯·ä½¿ç”¨Pull Request"
        exit 1
    fi
}

# ==================== ä¸»å‡½æ•° ====================
main() {
    log_info "å¼€å§‹pre-pushæ£€æŸ¥..."

    check_protected_branch
    run_linter
    run_tests

    log_info "æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå…è®¸æ¨é€"
}

main
```


## Part 3: å›¢é˜ŸçŸ¥è¯†åº“å»ºè®¾ï¼ˆ2,500å­—ï¼‰
### 3.1 çŸ¥è¯†åº“ç³»ç»Ÿæ¶æ„
**å›¢é˜ŸçŸ¥è¯†åº“ç›®å½•ç»“æ„**ï¼š
```
team-knowledge-base/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ skills/
â”‚   â”‚   â”œâ”€â”€ team-standards/        # å›¢é˜Ÿç¼–ç æ ‡å‡†
â”‚   â”‚   â”‚   â”œâ”€â”€ skill.yaml
â”‚   â”‚   â”‚   â””â”€â”€ prompts/
â”‚   â”‚   â”‚       â”œâ”€â”€ python-style.md
â”‚   â”‚   â”‚       â”œâ”€â”€ javascript-style.md
â”‚   â”‚   â”‚       â””â”€â”€ api-design.md
â”‚   â”‚   â”œâ”€â”€ architecture/          # æ¶æ„æ¨¡å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ skill.yaml
â”‚   â”‚   â”‚   â””â”€â”€ prompts/
â”‚   â”‚   â”‚       â”œâ”€â”€ microservices.md
â”‚   â”‚   â”‚       â””â”€â”€ database-design.md
â”‚   â”‚   â””â”€â”€ testing/               # æµ‹è¯•è§„èŒƒ
â”‚   â”‚       â”œâ”€â”€ skill.yaml
â”‚   â”‚       â””â”€â”€ prompts/
â”‚   â”‚           â”œâ”€â”€ unit-test.md
â”‚   â”‚           â””â”€â”€ integration-test.md
â”‚   â””â”€â”€ memory/
â”‚       â”œâ”€â”€ common-patterns.json   # å¸¸è§ä»£ç æ¨¡å¼
â”‚       â”œâ”€â”€ team-decisions.json    # æŠ€æœ¯å†³ç­–è®°å½•
â”‚       â””â”€â”€ best-practices.json    # æœ€ä½³å®è·µ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture/              # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                       # APIæ–‡æ¡£
â”‚   â””â”€â”€ guides/                    # å¼€å‘æŒ‡å—
â””â”€â”€ README.md
```


### 3.2 å›¢é˜Ÿç¼–ç æ ‡å‡†Skill
**skill.yamlé…ç½®**ï¼š
```yaml
# .claude/skills/team-standards/skill.yaml
name: team-standards
version: 1.0.0
description: å›¢é˜Ÿç¼–ç æ ‡å‡†å’Œæœ€ä½³å®è·µ

prompts:
  - name: python-style
    path: prompts/python-style.md
    description: Pythonä»£ç é£æ ¼æŒ‡å—

  - name: javascript-style
    path: prompts/javascript-style.md
    description: JavaScript/TypeScriptä»£ç é£æ ¼æŒ‡å—

  - name: api-design
    path: prompts/api-design.md
    description: APIè®¾è®¡è§„èŒƒ

triggers:
  - pattern: ".*\\.py$"
    prompts: [python-style]

  - pattern: ".*\\.(js|ts)$"
    prompts: [javascript-style]

  - pattern: ".*api.*"
    prompts: [api-design]
```

**python-style.mdå†…å®¹**ï¼š
```markdown
# å›¢é˜ŸPythonä»£ç é£æ ¼æŒ‡å—

## 1. å‘½åè§„èŒƒ
- **ç±»å**ï¼šPascalCaseï¼ˆå¦‚ `UserService`ï¼‰
- **å‡½æ•°å**ï¼šsnake_caseï¼ˆå¦‚ `get_user_by_id`ï¼‰
- **å¸¸é‡**ï¼šUPPER_SNAKE_CASEï¼ˆå¦‚ `MAX_RETRIES`ï¼‰
- **ç§æœ‰æ–¹æ³•**ï¼šå‰ç¼€ä¸‹åˆ’çº¿ï¼ˆå¦‚ `_validate_input`ï¼‰

## 2. ç±»å‹æç¤ºï¼ˆå¼ºåˆ¶ï¼‰
æ‰€æœ‰å‡½æ•°å¿…é¡»åŒ…å«ç±»å‹æç¤ºï¼š

\`\`\`python
def calculate_total(items: list[Item], discount: float = 0.0) -> Decimal:
    """è®¡ç®—æ€»ä»·"""
    pass
\`\`\`

## 3. æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆå¼ºåˆ¶ï¼‰
ä½¿ç”¨Googleé£æ ¼ï¼š

\`\`\`python
def process_payment(user_id: str, amount: Decimal) -> PaymentResult:
    """å¤„ç†ç”¨æˆ·æ”¯ä»˜ã€‚

    Args:
        user_id: ç”¨æˆ·ID
        amount: æ”¯ä»˜é‡‘é¢

    Returns:
        PaymentResultå¯¹è±¡ï¼ŒåŒ…å«æ”¯ä»˜çŠ¶æ€å’Œè®¢å•ID

    Raises:
        ValueError: é‡‘é¢ä¸ºè´Ÿæ•°æ—¶
        PaymentError: æ”¯ä»˜å¤±è´¥æ—¶
    """
    pass
\`\`\`

## 4. é”™è¯¯å¤„ç†
ä½¿ç”¨å…·ä½“å¼‚å¸¸ï¼Œä¸è¦ä½¿ç”¨è£¸exceptï¼š

\`\`\`python
# âŒ é”™è¯¯
try:
    result = risky_operation()
except:
    pass

# âœ… æ­£ç¡®
try:
    result = risky_operation()
except (ValueError, KeyError) as e:
    logger.error(f"Operation failed: {e}")
    raise PaymentError("Failed to process payment") from e
\`\`\`

## 5. ä¾èµ–æ³¨å…¥
ä½¿ç”¨ä¾èµ–æ³¨å…¥è€Œéå…¨å±€å˜é‡ï¼š

\`\`\`python
# âŒ é”™è¯¯
db = Database()

def get_user(user_id: str):
    return db.query(...)

# âœ… æ­£ç¡®
class UserService:
    def __init__(self, db: Database):
        self.db = db

    def get_user(self, user_id: str) -> User:
        return self.db.query(...)
\`\`\`
```


### 3.3 æŠ€æœ¯å†³ç­–è®°å½•ï¼ˆADRï¼‰
**åˆ›å»ºADRæ¨¡æ¿**ï¼š
```bash
#!/bin/bash
# scripts/new-adr.sh - åˆ›å»ºæ–°çš„æŠ€æœ¯å†³ç­–è®°å½•

ADR_DIR="docs/architecture/adr"
ADR_NUM=$(ls "$ADR_DIR" | wc -l | xargs expr 1 +)
ADR_FILE="$ADR_DIR/$(printf "%04d" $ADR_NUM)-$1.md"

cat > "$ADR_FILE" <<EOF
# ADR-$(printf "%04d" $ADR_NUM): $1

**çŠ¶æ€**: æè®®ä¸­
**æ—¥æœŸ**: $(date +%Y-%m-%d)
**å†³ç­–è€…**: [å›¢é˜Ÿåç§°]

## èƒŒæ™¯
[æè¿°éœ€è¦åšå‡ºå†³ç­–çš„æŠ€æœ¯é—®é¢˜æˆ–éœ€æ±‚]

## å†³ç­–
[æè¿°æˆ‘ä»¬é€‰æ‹©çš„æŠ€æœ¯æ–¹æ¡ˆ]

## åŸå› 
[è§£é‡Šä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆ]

### ä¼˜ç‚¹
- [ä¼˜ç‚¹1]
- [ä¼˜ç‚¹2]

### ç¼ºç‚¹
- [ç¼ºç‚¹1]
- [ç¼ºç‚¹2]

### æ›¿ä»£æ–¹æ¡ˆ
- **æ–¹æ¡ˆ1**: [æè¿°] - è¢«æ‹’ç»åŸå› ï¼š[åŸå› ]
- **æ–¹æ¡ˆ2**: [æè¿°] - è¢«æ‹’ç»åŸå› ï¼š[åŸå› ]

## å½±å“
[æè¿°è¿™ä¸ªå†³ç­–å¯¹ç³»ç»Ÿçš„å½±å“]

## å‚è€ƒèµ„æ–™
- [ç›¸å…³æ–‡æ¡£æˆ–é“¾æ¥]
EOF

echo "å·²åˆ›å»ºADR: $ADR_FILE"
```

**ä½¿ç”¨Claudeè‡ªåŠ¨ç”ŸæˆADR**ï¼š
```bash
#!/bin/bash
# scripts/generate-adr-with-claude.sh

TOPIC="$1"

PROMPT="ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯æ¶æ„ä¸“å®¶ã€‚è¯·ä¸ºä»¥ä¸‹æŠ€æœ¯å†³ç­–ç”Ÿæˆä¸€ä»½è¯¦ç»†çš„ADRï¼ˆArchitecture Decision Recordï¼‰ï¼š

ä¸»é¢˜ï¼š$TOPIC

åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š
1ã€èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå†³ç­–
2ã€å†³ç­–ï¼šé€‰æ‹©çš„æŠ€æœ¯æ–¹æ¡ˆ
3ã€åŸå› ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼ˆåˆ—å‡º3ä¸ªä¼˜ç‚¹å’Œ2ä¸ªç¼ºç‚¹ï¼‰
4ã€æ›¿ä»£æ–¹æ¡ˆï¼šè‡³å°‘2ä¸ªè¢«æ‹’ç»çš„æ–¹æ¡ˆåŠåŸå› 
5ã€å½±å“ï¼šå¯¹ç³»ç»Ÿçš„å½±å“

ä½¿ç”¨Markdownæ ¼å¼è¾“å‡ºã€‚"

RESPONSE=$(curl -s https://api.anthropic.com/v1/messages \
    -H "x-api-key: $ANTHROPIC_API_KEY" \
    -H "anthropic-version: 2023-06-01" \
    -H "content-type: application/json" \
    -d "{
        \"model\": \"claude-sonnet-4.5-20250929\",
        \"max_tokens\": 4096,
        \"messages\": [{\"role\": \"user\", \"content\": \"$PROMPT\"}]
    }")

ADR_CONTENT=$(echo "$RESPONSE" | jq -r '.content[0].text')

# ä¿å­˜åˆ°æ–‡ä»¶
ADR_NUM=$(ls docs/architecture/adr | wc -l | xargs expr 1 +)
ADR_FILE="docs/architecture/adr/$(printf "%04d" $ADR_NUM)-$TOPIC.md"

echo "$ADR_CONTENT" > "$ADR_FILE"
echo "ADRå·²ç”Ÿæˆ: $ADR_FILE"
```


### 3.4 å›¢é˜ŸMemoryç³»ç»Ÿ
**common-patterns.jsonç¤ºä¾‹**ï¼š
```json
{
  "patterns": [
    {
      "name": "Repository Pattern",
      "description": "æ•°æ®è®¿é—®å±‚æŠ½è±¡",
      "example_code": "class UserRepository:\n    def __init__(self, db: Database):\n        self.db = db\n    \n    def get_by_id(self, user_id: str) -> User:\n        return self.db.query(User).filter_by(id=user_id).first()",
      "when_to_use": "éœ€è¦æŠ½è±¡æ•°æ®åº“æ“ä½œæ—¶",
      "related_patterns": ["Unit of Work", "Data Mapper"]
    },
    {
      "name": "Factory Pattern",
      "description": "å¯¹è±¡åˆ›å»ºæŠ½è±¡",
      "example_code": "class PaymentFactory:\n    @staticmethod\n    def create(payment_type: str) -> Payment:\n        if payment_type == 'credit_card':\n            return CreditCardPayment()\n        elif payment_type == 'paypal':\n            return PayPalPayment()",
      "when_to_use": "éœ€è¦æ ¹æ®æ¡ä»¶åˆ›å»ºä¸åŒå¯¹è±¡æ—¶",
      "related_patterns": ["Abstract Factory", "Builder"]
    }
  ],
  "anti_patterns": [
    {
      "name": "God Object",
      "description": "ä¸€ä¸ªç±»åšå¤ªå¤šäº‹æƒ…",
      "example": "class UseråŒ…å«äº†è®¤è¯ã€æˆæƒã€æ•°æ®åº“æ“ä½œã€é‚®ä»¶å‘é€ç­‰",
      "why_bad": "è¿åå•ä¸€èŒè´£åŸåˆ™ï¼Œéš¾ä»¥æµ‹è¯•å’Œç»´æŠ¤",
      "how_to_fix": "æ‹†åˆ†æˆUserServiceã€AuthServiceã€EmailServiceç­‰"
    }
  ]
}
```

**ä½¿ç”¨Memoryçš„Claude Skill**ï¼š
```yaml
# .claude/skills/architecture/skill.yaml
name: architecture
version: 1.0.0
description: æ¶æ„æ¨¡å¼å’Œè®¾è®¡æ¨¡å¼æŒ‡å—

memory:
  - path: ../../memory/common-patterns.json
    type: reference

prompts:
  - name: suggest-pattern
    description: æ ¹æ®ä»£ç ä¸Šä¸‹æ–‡å»ºè®®è®¾è®¡æ¨¡å¼
    template: |
      æ ¹æ®ä»¥ä¸‹ä»£ç ï¼Œå»ºè®®ä½¿ç”¨å“ªç§è®¾è®¡æ¨¡å¼ï¼š

      {code}

      å‚è€ƒå›¢é˜Ÿå¸¸ç”¨æ¨¡å¼ï¼š
      {memory.common-patterns}
```


## Part 4: CI/CDæ·±åº¦é›†æˆï¼ˆ2,500å­—ï¼‰
### 4.1 GitHub Actionsé›†æˆ
**å®Œæ•´çš„CI workflow**ï¼š
```yaml
# .github/workflows/claude-ci.yml
name: Claude Code CI

on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]

env:
  ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}

jobs:
  code-review:
    name: Claudeä»£ç å®¡æŸ¥
    runs-on: ubuntu-latest
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v3
        with:
          fetch-depth: 0  # è·å–å®Œæ•´å†å²

      - name: è·å–å˜æ›´çš„æ–‡ä»¶
        id: changed-files
        uses: tj-actions/changed-files@v39

      - name: Claudeä»£ç å®¡æŸ¥
        if: steps.changed-files.outputs.any_changed == 'true'
        run: |
          CHANGED_FILES="${{ steps.changed-files.outputs.all_changed_files }}"

          # ç”Ÿæˆdiff
          DIFF=$(git diff origin/${{ github.base_ref }}...HEAD)

          # è°ƒç”¨Claude API
          REVIEW=$(curl -s https://api.anthropic.com/v1/messages \
            -H "x-api-key: $ANTHROPIC_API_KEY" \
            -H "anthropic-version: 2023-06-01" \
            -H "content-type: application/json" \
            -d "{
              \"model\": \"claude-sonnet-4.5-20250929\",
              \"max_tokens\": 4096,
              \"messages\": [{
                \"role\": \"user\",
                \"content\": \"ä½ æ˜¯ä»£ç å®¡æŸ¥ä¸“å®¶ã€‚è¯·å®¡æŸ¥ä»¥ä¸‹PRçš„ä»£ç å˜æ›´ï¼Œé‡ç‚¹å…³æ³¨ï¼š\n1. ä»£ç è´¨é‡\n2. æ½œåœ¨bug\n3. å®‰å…¨é—®é¢˜\n4. æ€§èƒ½é—®é¢˜\n\nä»£ç diff:\n\`\`\`diff\n$DIFF\n\`\`\`\n\nè¯·ä»¥Markdownæ ¼å¼è¾“å‡ºå®¡æŸ¥ç»“æœã€‚\"
              }]
            }" | jq -r '.content[0].text')

          # è¾“å‡ºåˆ°æ­¥éª¤æ‘˜è¦
          echo "## Claudeä»£ç å®¡æŸ¥ç»“æœ" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "$REVIEW" >> $GITHUB_STEP_SUMMARY

          # æ£€æŸ¥æ˜¯å¦æœ‰ä¸¥é‡é—®é¢˜
          if echo "$REVIEW" | grep -q "ä¸¥é‡"; then
            echo "::error::å‘ç°ä¸¥é‡é—®é¢˜ï¼Œè¯·ä¿®å¤åé‡æ–°æäº¤"
            exit 1
          fi

      - name: è¯„è®ºåˆ°PR
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v6
        with:
          script: |
            const review = process.env.REVIEW;
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## ğŸ¤– Claudeä»£ç å®¡æŸ¥\n\n${review}`
            });

  quality-check:
    name: ä»£ç è´¨é‡æ£€æŸ¥
    runs-on: ubuntu-latest
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v3

      - name: è®¾ç½®Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: å®‰è£…ä¾èµ–
        run: |
          python -m pip install --upgrade pip
          pip install black ruff pytest pytest-cov

      - name: Blackæ ¼å¼æ£€æŸ¥
        run: black --check .

      - name: Ruffæ£€æŸ¥
        run: ruff check .

      - name: è¿è¡Œæµ‹è¯•
        run: pytest --cov --cov-report=xml

      - name: ä¸Šä¼ è¦†ç›–ç‡æŠ¥å‘Š
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage.xml

  auto-fix:
    name: è‡ªåŠ¨ä¿®å¤é—®é¢˜
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v3
        with:
          ref: ${{ github.head_ref }}
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: è®¾ç½®Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: å®‰è£…å·¥å…·
        run: |
          pip install black ruff

      - name: è‡ªåŠ¨æ ¼å¼åŒ–
        run: |
          black .
          ruff check --fix .

      - name: æäº¤ä¿®å¤
        run: |
          git config user.name "Claude Bot"
          git config user.email "claude-bot@example.com"
          git add -A
          git diff --quiet && git diff --staged --quiet || \
          git commit -m "chore: auto-fix code style issues"
          git push

  generate-docs:
    name: è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£
    runs-on: ubuntu-latest
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v3

      - name: ä½¿ç”¨Claudeç”ŸæˆAPIæ–‡æ¡£
        run: |
          # æ‰«ææ‰€æœ‰Pythonæ–‡ä»¶
          find . -name "*.py" -type f > python_files.txt

          # å¯¹æ¯ä¸ªæ–‡ä»¶ç”Ÿæˆæ–‡æ¡£
          while IFS= read -r file; do
            CODE=$(cat "$file")

            DOC=$(curl -s https://api.anthropic.com/v1/messages \
              -H "x-api-key: $ANTHROPIC_API_KEY" \
              -H "anthropic-version: 2023-06-01" \
              -H "content-type: application/json" \
              -d "{
                \"model\": \"claude-sonnet-4.5-20250929\",
                \"max_tokens\": 2048,
                \"messages\": [{
                  \"role\": \"user\",
                  \"content\": \"ä¸ºä»¥ä¸‹Pythonä»£ç ç”ŸæˆAPIæ–‡æ¡£ï¼ˆMarkdownæ ¼å¼ï¼‰ï¼š\n\n\`\`\`python\n$CODE\n\`\`\`\"
                }]
              }" | jq -r '.content[0].text')

            # ä¿å­˜åˆ°docsç›®å½•
            DOC_FILE="docs/api/$(basename $file .py).md"
            mkdir -p "$(dirname $DOC_FILE)"
            echo "$DOC" > "$DOC_FILE"
          done < python_files.txt

      - name: æäº¤æ–‡æ¡£æ›´æ–°
        run: |
          git config user.name "Claude Bot"
          git config user.email "claude-bot@example.com"
          git add docs/
          git diff --quiet && git diff --staged --quiet || \
          git commit -m "docs: update API documentation"
          git push
```

**ğŸ“¸ æˆªå›¾ä½ç½®ï¼šGitHub Actionsè¿è¡Œç»“æœç•Œé¢**


### 4.2 GitLab CIé›†æˆ
**å®Œæ•´çš„.gitlab-ci.yml**ï¼š
```yaml
# .gitlab-ci.yml
variables:
  ANTHROPIC_API_KEY: $ANTHROPIC_API_KEY

stages:
  - review
  - test
  - docs

claude-review:
  stage: review
  image: curlimages/curl:latest
  script:
    - |
      # è·å–MR diff
      DIFF=$(git diff origin/$CI_MERGE_REQUEST_TARGET_BRANCH_NAME...HEAD)

      # è°ƒç”¨Claude API
      REVIEW=$(curl -s https://api.anthropic.com/v1/messages \
        -H "x-api-key: $ANTHROPIC_API_KEY" \
        -H "anthropic-version: 2023-06-01" \
        -H "content-type: application/json" \
        -d "{
          \"model\": \"claude-sonnet-4.5-20250929\",
          \"max_tokens\": 4096,
          \"messages\": [{
            \"role\": \"user\",
            \"content\": \"è¯·å®¡æŸ¥ä»¥ä¸‹MRçš„ä»£ç å˜æ›´:\n\`\`\`diff\n$DIFF\n\`\`\`\"
          }]
        }" | jq -r '.content[0].text')

      # è¾“å‡ºå®¡æŸ¥ç»“æœ
      echo "$REVIEW"

      # è¯„è®ºåˆ°MR
      curl -X POST "$CI_API_V4_URL/projects/$CI_PROJECT_ID/merge_requests/$CI_MERGE_REQUEST_IID/notes" \
        --header "PRIVATE-TOKEN: $GITLAB_TOKEN" \
        --data "body=## Claudeä»£ç å®¡æŸ¥\n\n$REVIEW"
  only:
    - merge_requests

quality-check:
  stage: test
  image: python:3.11
  script:
    - pip install black ruff pytest
    - black --check .
    - ruff check .
    - pytest
  only:
    - merge_requests
    - main

generate-docs:
  stage: docs
  image: python:3.11
  script:
    - pip install jq curl
    - ./scripts/generate-docs-with-claude.sh
    - git config user.name "Claude Bot"
    - git config user.email "claude-bot@example.com"
    - git add docs/
    - git commit -m "docs: update API documentation" || true
    - git push https://oauth2:$GITLAB_TOKEN@gitlab.com/$CI_PROJECT_PATH.git HEAD:$CI_COMMIT_REF_NAME
  only:
    - main
```


### 4.3 Jenkinsé›†æˆ
**Jenkinsfileå®Œæ•´é…ç½®**ï¼š
```groovy
// Jenkinsfile
pipeline {
    agent any

    environment {
        ANTHROPIC_API_KEY = credentials('anthropic-api-key')
    }

    stages {
        stage('Checkout') {
            steps {
                checkout scm
            }
        }

        stage('Claude Review') {
            when {
                changeRequest()
            }
            steps {
                script {
                    // è·å–å˜æ›´çš„æ–‡ä»¶
                    def changedFiles = sh(
                        script: 'git diff --name-only origin/${CHANGE_TARGET}...HEAD',
                        returnStdout: true
                    ).trim()

                    // è·å–diff
                    def diff = sh(
                        script: 'git diff origin/${CHANGE_TARGET}...HEAD',
                        returnStdout: true
                    )

                    // è°ƒç”¨Claude API
                    def review = sh(
                        script: """
                        curl -s https://api.anthropic.com/v1/messages \\
                          -H "x-api-key: ${ANTHROPIC_API_KEY}" \\
                          -H "anthropic-version: 2023-06-01" \\
                          -H "content-type: application/json" \\
                          -d '{
                            "model": "claude-sonnet-4.5-20250929",
                            "max_tokens": 4096,
                            "messages": [{
                              "role": "user",
                              "content": "è¯·å®¡æŸ¥ä»¥ä¸‹PRçš„ä»£ç å˜æ›´:\\n\\n\`\`\`diff\\n${diff}\\n\`\`\`"
                            }]
                          }' | jq -r '.content[0].text'
                        """,
                        returnStdout: true
                    ).trim()

                    // è¾“å‡ºå®¡æŸ¥ç»“æœ
                    echo "Claudeå®¡æŸ¥ç»“æœ:\n${review}"

                    // è¯„è®ºåˆ°PR
                    pullRequest.comment("## ğŸ¤– Claudeä»£ç å®¡æŸ¥\n\n${review}")
                }
            }
        }

        stage('Quality Check') {
            steps {
                sh 'pip install black ruff pytest'
                sh 'black --check .'
                sh 'ruff check .'
                sh 'pytest --cov --cov-report=xml'
            }
        }

        stage('Generate Docs') {
            when {
                branch 'main'
            }
            steps {
                sh './scripts/generate-docs-with-claude.sh'
                sh '''
                    git config user.name "Claude Bot"
                    git config user.email "claude-bot@example.com"
                    git add docs/
                    git commit -m "docs: update API documentation" || true
                    git push origin HEAD:main
                '''
            }
        }
    }

    post {
        always {
            junit 'test-reports/*.xml'
            publishHTML([
                reportDir: 'htmlcov',
                reportFiles: 'index.html',
                reportName: 'Coverage Report'
            ])
        }
    }
}
```


## Part 5: å›¢é˜Ÿç›‘æ§ä¸åº¦é‡ï¼ˆ1,500å­—ï¼‰
### 5.1 Claudeä½¿ç”¨æƒ…å†µç›‘æ§
**ç›‘æ§è„šæœ¬ï¼ˆmonitor-claude-usage.pyï¼‰**ï¼š
```python
#!/usr/bin/env python3
"""
Claudeä½¿ç”¨æƒ…å†µç›‘æ§è„šæœ¬
è·Ÿè¸ªå›¢é˜Ÿæˆå‘˜çš„Claude APIè°ƒç”¨å’Œæˆæœ¬
"""

import os
import json
import sqlite3
from datetime import datetime, timedelta
from typing import Dict, List
import requests

# ==================== é…ç½® ====================
DB_PATH = "claude_usage.db"
ANTHROPIC_API_KEY = os.getenv("ANTHROPIC_API_KEY")

# ==================== æ•°æ®åº“åˆå§‹åŒ– ====================
def init_database():
    """åˆå§‹åŒ–SQLiteæ•°æ®åº“"""
    conn = sqlite3.connect(DB_PATH)
    cursor = conn.cursor()

    cursor.execute("""
    CREATE TABLE IF NOT EXISTS api_calls (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        user TEXT NOT NULL,
        timestamp DATETIME NOT NULL,
        model TEXT NOT NULL,
        prompt_tokens INTEGER NOT NULL,
        completion_tokens INTEGER NOT NULL,
        total_tokens INTEGER NOT NULL,
        cost REAL NOT NULL,
        purpose TEXT,
        success BOOLEAN NOT NULL
    )
    """)

    cursor.execute("""
    CREATE INDEX IF NOT EXISTS idx_user ON api_calls(user)
    """)

    cursor.execute("""
    CREATE INDEX IF NOT EXISTS idx_timestamp ON api_calls(timestamp)
    """)

    conn.commit()
    conn.close()

# ==================== è®°å½•APIè°ƒç”¨ ====================
def log_api_call(
    user: str,
    model: str,
    prompt_tokens: int,
    completion_tokens: int,
    purpose: str = None,
    success: bool = True
):
    """è®°å½•ä¸€æ¬¡APIè°ƒç”¨"""
    conn = sqlite3.connect(DB_PATH)
    cursor = conn.cursor()

    total_tokens = prompt_tokens + completion_tokens

    # è®¡ç®—æˆæœ¬ï¼ˆSonnet 4.5å®šä»·ï¼‰
    cost = (prompt_tokens * 0.003 + completion_tokens * 0.015) / 1000

    cursor.execute("""
    INSERT INTO api_calls (
        user, timestamp, model,
        prompt_tokens, completion_tokens, total_tokens,
        cost, purpose, success
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
    """, (
        user, datetime.now(), model,
        prompt_tokens, completion_tokens, total_tokens,
        cost, purpose, success
    ))

    conn.commit()
    conn.close()

# ==================== ç”Ÿæˆä½¿ç”¨æŠ¥å‘Š ====================
def generate_usage_report(days: int = 7) -> Dict:
    """ç”Ÿæˆä½¿ç”¨æƒ…å†µæŠ¥å‘Š"""
    conn = sqlite3.connect(DB_PATH)
    cursor = conn.cursor()

    start_date = datetime.now() - timedelta(days=days)

    # æ€»ä½“ç»Ÿè®¡
    cursor.execute("""
    SELECT
        COUNT(*) as total_calls,
        SUM(prompt_tokens) as total_prompt_tokens,
        SUM(completion_tokens) as total_completion_tokens,
        SUM(total_tokens) as total_tokens,
        SUM(cost) as total_cost,
        AVG(cost) as avg_cost
    FROM api_calls
    WHERE timestamp >= ?
    """, (start_date,))

    overall = cursor.fetchone()

    # æŒ‰ç”¨æˆ·ç»Ÿè®¡
    cursor.execute("""
    SELECT
        user,
        COUNT(*) as calls,
        SUM(total_tokens) as tokens,
        SUM(cost) as cost
    FROM api_calls
    WHERE timestamp >= ?
    GROUP BY user
    ORDER BY cost DESC
    """, (start_date,))

    by_user = cursor.fetchall()

    # æŒ‰ç›®çš„ç»Ÿè®¡
    cursor.execute("""
    SELECT
        purpose,
        COUNT(*) as calls,
        SUM(cost) as cost
    FROM api_calls
    WHERE timestamp >= ? AND purpose IS NOT NULL
    GROUP BY purpose
    ORDER BY cost DESC
    """, (start_date,))

    by_purpose = cursor.fetchall()

    # æˆåŠŸç‡
    cursor.execute("""
    SELECT
        COUNT(CASE WHEN success = 1 THEN 1 END) * 100.0 / COUNT(*) as success_rate
    FROM api_calls
    WHERE timestamp >= ?
    """, (start_date,))

    success_rate = cursor.fetchone()[0]

    conn.close()

    return {
        "period_days": days,
        "overall": {
            "total_calls": overall[0],
            "total_prompt_tokens": overall[1],
            "total_completion_tokens": overall[2],
            "total_tokens": overall[3],
            "total_cost_usd": round(overall[4], 2),
            "avg_cost_per_call": round(overall[5], 4)
        },
        "by_user": [
            {
                "user": row[0],
                "calls": row[1],
                "tokens": row[2],
                "cost_usd": round(row[3], 2)
            }
            for row in by_user
        ],
        "by_purpose": [
            {
                "purpose": row[0],
                "calls": row[1],
                "cost_usd": round(row[2], 2)
            }
            for row in by_purpose
        ],
        "success_rate": round(success_rate, 2)
    }

# ==================== å‘é€Slacké€šçŸ¥ ====================
def send_slack_notification(report: Dict):
    """å‘é€ä½¿ç”¨æŠ¥å‘Šåˆ°Slack"""
    webhook_url = os.getenv("SLACK_WEBHOOK_URL")

    if not webhook_url:
        print("æœªè®¾ç½®SLACK_WEBHOOK_URLï¼Œè·³è¿‡é€šçŸ¥")
        return

    message = {
        "text": f"ğŸ“Š Claudeä½¿ç”¨æƒ…å†µæŠ¥å‘Šï¼ˆæœ€è¿‘{report['period_days']}å¤©ï¼‰",
        "blocks": [
            {
                "type": "header",
                "text": {
                    "type": "plain_text",
                    "text": f"ğŸ“Š Claudeä½¿ç”¨æƒ…å†µæŠ¥å‘Šï¼ˆæœ€è¿‘{report['period_days']}å¤©ï¼‰"
                }
            },
            {
                "type": "section",
                "fields": [
                    {
                        "type": "mrkdwn",
                        "text": f"*æ€»è°ƒç”¨æ¬¡æ•°:*\n{report['overall']['total_calls']}"
                    },
                    {
                        "type": "mrkdwn",
                        "text": f"*æ€»æˆæœ¬:*\n${report['overall']['total_cost_usd']}"
                    },
                    {
                        "type": "mrkdwn",
                        "text": f"*æ€»Tokenæ•°:*\n{report['overall']['total_tokens']:,}"
                    },
                    {
                        "type": "mrkdwn",
                        "text": f"*æˆåŠŸç‡:*\n{report['success_rate']}%"
                    }
                ]
            },
            {
                "type": "divider"
            },
            {
                "type": "section",
                "text": {
                    "type": "mrkdwn",
                    "text": "*æŒ‰ç”¨æˆ·ç»Ÿè®¡ï¼ˆTop 5ï¼‰:*"
                }
            }
        ]
    }

    # æ·»åŠ Top 5ç”¨æˆ·
    for user_stat in report['by_user'][:5]:
        message["blocks"].append({
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": f"â€¢ *{user_stat['user']}*: {user_stat['calls']} calls, ${user_stat['cost_usd']}"
            }
        })

    requests.post(webhook_url, json=message)

# ==================== ä¸»å‡½æ•° ====================
def main():
    init_database()

    # ç”ŸæˆæŠ¥å‘Š
    report = generate_usage_report(days=7)

    # æ‰“å°æŠ¥å‘Š
    print(json.dumps(report, indent=2))

    # å‘é€Slacké€šçŸ¥
    send_slack_notification(report)

    # æ£€æŸ¥é¢„ç®—è­¦å‘Š
    if report['overall']['total_cost_usd'] > 100:
        print("âš ï¸ è­¦å‘Šï¼šæœ¬å‘¨æˆæœ¬è¶…è¿‡$100")

if __name__ == "__main__":
    main()
```

**è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆcronï¼‰**ï¼š
```bash
# æ¯å‘¨ä¸€æ—©ä¸Š9ç‚¹ç”ŸæˆæŠ¥å‘Š
0 9 * * 1 cd /path/to/scripts && python3 monitor-claude-usage.py
```


### 5.2 ä»£ç è´¨é‡åº¦é‡
**å®Œæ•´çš„è´¨é‡åº¦é‡è„šæœ¬**ï¼š
```python
#!/usr/bin/env python3
"""
ä»£ç è´¨é‡åº¦é‡è„šæœ¬
è·Ÿè¸ªClaude Codeå¯¹ä»£ç è´¨é‡çš„å½±å“
"""

import os
import subprocess
from dataclasses import dataclass
from typing import List
import json

@dataclass
class QualityMetrics:
    """ä»£ç è´¨é‡æŒ‡æ ‡"""
    test_coverage: float          # æµ‹è¯•è¦†ç›–ç‡
    code_complexity: float        # å¹³å‡å¤æ‚åº¦
    duplicate_lines: int          # é‡å¤ä»£ç è¡Œæ•°
    lint_issues: int              # Linté—®é¢˜æ•°é‡
    security_issues: int          # å®‰å…¨é—®é¢˜æ•°é‡
    doc_coverage: float           # æ–‡æ¡£è¦†ç›–ç‡

def measure_test_coverage() -> float:
    """æµ‹é‡æµ‹è¯•è¦†ç›–ç‡"""
    result = subprocess.run(
        ["pytest", "--cov", "--cov-report=json"],
        capture_output=True,
        text=True
    )

    with open("coverage.json") as f:
        data = json.load(f)
        return data["totals"]["percent_covered"]

def measure_code_complexity() -> float:
    """æµ‹é‡ä»£ç å¤æ‚åº¦"""
    result = subprocess.run(
        ["radon", "cc", ".", "-a", "-j"],
        capture_output=True,
        text=True
    )

    data = json.loads(result.stdout)

    # è®¡ç®—å¹³å‡å¤æ‚åº¦
    total_complexity = 0
    total_functions = 0

    for file_data in data.values():
        for func in file_data:
            total_complexity += func["complexity"]
            total_functions += 1

    return total_complexity / total_functions if total_functions > 0 else 0

def measure_duplicate_lines() -> int:
    """æµ‹é‡é‡å¤ä»£ç è¡Œæ•°"""
    result = subprocess.run(
        ["jscpd", ".", "--format", "json"],
        capture_output=True,
        text=True
    )

    data = json.loads(result.stdout)
    return data["statistics"]["total"]["duplicatedLines"]

def measure_lint_issues() -> int:
    """æµ‹é‡Linté—®é¢˜æ•°é‡"""
    result = subprocess.run(
        ["ruff", "check", ".", "--format", "json"],
        capture_output=True,
        text=True
    )

    data = json.loads(result.stdout)
    return len(data)

def measure_security_issues() -> int:
    """æµ‹é‡å®‰å…¨é—®é¢˜æ•°é‡"""
    result = subprocess.run(
        ["bandit", "-r", ".", "-f", "json"],
        capture_output=True,
        text=True
    )

    data = json.loads(result.stdout)
    return len(data["results"])

def measure_doc_coverage() -> float:
    """æµ‹é‡æ–‡æ¡£è¦†ç›–ç‡"""
    result = subprocess.run(
        ["interrogate", ".", "-v", "-f", "json"],
        capture_output=True,
        text=True
    )

    data = json.loads(result.stdout)
    return data["covered_percent"]

def generate_quality_report() -> QualityMetrics:
    """ç”Ÿæˆå®Œæ•´çš„è´¨é‡æŠ¥å‘Š"""
    return QualityMetrics(
        test_coverage=measure_test_coverage(),
        code_complexity=measure_code_complexity(),
        duplicate_lines=measure_duplicate_lines(),
        lint_issues=measure_lint_issues(),
        security_issues=measure_security_issues(),
        doc_coverage=measure_doc_coverage()
    )

def main():
    metrics = generate_quality_report()

    print("====================================")
    print("  ä»£ç è´¨é‡åº¦é‡æŠ¥å‘Š")
    print("====================================")
    print(f"æµ‹è¯•è¦†ç›–ç‡:    {metrics.test_coverage:.2f}%")
    print(f"ä»£ç å¤æ‚åº¦:    {metrics.code_complexity:.2f}")
    print(f"é‡å¤ä»£ç è¡Œ:    {metrics.duplicate_lines}")
    print(f"Linté—®é¢˜:      {metrics.lint_issues}")
    print(f"å®‰å…¨é—®é¢˜:      {metrics.security_issues}")
    print(f"æ–‡æ¡£è¦†ç›–ç‡:    {metrics.doc_coverage:.2f}%")
    print("====================================")

    # ä¿å­˜åˆ°JSON
    with open("quality-metrics.json", "w") as f:
        json.dump(metrics.__dict__, f, indent=2)

if __name__ == "__main__":
    main()
```


## Part 6: è·¨å›¢é˜Ÿåä½œæ¡ˆä¾‹ï¼ˆ1,000å­—ï¼‰
### 6.1 å¤šå›¢é˜Ÿå…±äº«é…ç½®
**å›¢é˜Ÿé…ç½®ç»§æ‰¿ç»“æ„**ï¼š
```
company-claude-config/           # å…¬å¸çº§é…ç½®ï¼ˆåŸºç¡€ï¼‰
â”œâ”€â”€ .editorconfig
â”œâ”€â”€ vscode/
â”‚   â””â”€â”€ settings.json
â””â”€â”€ claude/
    â””â”€â”€ skills/
        â””â”€â”€ company-standards/   # å…¬å¸ç¼–ç æ ‡å‡†

team-a-claude-config/            # å›¢é˜ŸAé…ç½®ï¼ˆç»§æ‰¿+æ‰©å±•ï¼‰
â”œâ”€â”€ import: company-claude-config
â””â”€â”€ claude/
    â””â”€â”€ skills/
        â””â”€â”€ team-a-patterns/     # å›¢é˜ŸAç‰¹å®šæ¨¡å¼

team-b-claude-config/            # å›¢é˜ŸBé…ç½®ï¼ˆç»§æ‰¿+æ‰©å±•ï¼‰
â”œâ”€â”€ import: company-claude-config
â””â”€â”€ claude/
    â””â”€â”€ skills/
        â””â”€â”€ team-b-patterns/     # å›¢é˜ŸBç‰¹å®šæ¨¡å¼
```

**é…ç½®ç»§æ‰¿è„šæœ¬**ï¼š
```bash
#!/bin/bash
# inherit-config.sh - ç»§æ‰¿çˆ¶é…ç½®

PARENT_REPO="$1"
PARENT_DIR="parent-config"

# å…‹éš†çˆ¶é…ç½®
git clone "$PARENT_REPO" "$PARENT_DIR"

# ç¬¦å·é“¾æ¥å…¬å…±é…ç½®
ln -sf "$PARENT_DIR/.editorconfig" .editorconfig
ln -sf "$PARENT_DIR/vscode" vscode-base
ln -sf "$PARENT_DIR/claude/skills/company-standards" claude/skills/

# åˆå¹¶é…ç½®æ–‡ä»¶
jq -s '.[0] * .[1]' \
    "$PARENT_DIR/vscode/settings.json" \
    "vscode/settings.json" \
    > vscode/settings-merged.json

mv vscode/settings-merged.json vscode/settings.json

echo "é…ç½®ç»§æ‰¿å®Œæˆï¼"
```


### 6.2 è·¨å›¢é˜Ÿä»£ç å®¡æŸ¥
**è·¨å›¢é˜Ÿå®¡æŸ¥æµç¨‹é…ç½®**ï¼š
```yaml
# .github/workflows/cross-team-review.yml
name: è·¨å›¢é˜Ÿä»£ç å®¡æŸ¥

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  notify-review-team:
    runs-on: ubuntu-latest
    steps:
      - name: ç¡®å®šå®¡æŸ¥å›¢é˜Ÿ
        id: determine-team
        run: |
          # æ ¹æ®æ–‡ä»¶è·¯å¾„ç¡®å®šå®¡æŸ¥å›¢é˜Ÿ
          FILES_CHANGED=$(gh pr view ${{ github.event.number }} --json files --jq '.files[].path')

          if echo "$FILES_CHANGED" | grep -q "backend/"; then
            echo "team=backend-team" >> $GITHUB_OUTPUT
          elif echo "$FILES_CHANGED" | grep -q "frontend/"; then
            echo "team=frontend-team" >> $GITHUB_OUTPUT
          else
            echo "team=platform-team" >> $GITHUB_OUTPUT
          fi

      - name: è¯·æ±‚è·¨å›¢é˜Ÿå®¡æŸ¥
        uses: actions/github-script@v6
        with:
          script: |
            const team = '${{ steps.determine-team.outputs.team }}';

            github.rest.pulls.requestReviewers({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.issue.number,
              team_reviewers: [team]
            });
```


## ğŸ“š è¯¾ç¨‹æ€»ç»“
**æœ¬èŠ‚æ ¸å¿ƒå†…å®¹**ï¼š

1ã€âœ… å›¢é˜Ÿé…ç½®ç»Ÿä¸€åŒ– - ä¸€é”®å®‰è£…è„šæœ¬ã€è‡ªåŠ¨æ›´æ–°ã€é…ç½®éªŒè¯
2ã€âœ… Git Hooksæ·±åº¦é›†æˆ - pre-commit/commit-msg/pre-push + Claudeè‡ªåŠ¨å®¡æŸ¥
3ã€âœ… å›¢é˜ŸçŸ¥è¯†åº“å»ºè®¾ - Skillsç³»ç»Ÿã€ADRã€Memoryç³»ç»Ÿ
4ã€âœ… CI/CDæµæ°´çº¿é›†æˆ - GitHub Actions/GitLab CI/Jenkinså®Œæ•´é…ç½®
5ã€âœ… ç›‘æ§ä¸åº¦é‡ä½“ç³» - Claudeä½¿ç”¨æƒ…å†µã€ä»£ç è´¨é‡åº¦é‡
6ã€âœ… è·¨å›¢é˜Ÿåä½œæ¨¡å¼ - é…ç½®ç»§æ‰¿ã€è·¨å›¢é˜Ÿå®¡æŸ¥

**è€é‡‘çš„æœ€åå»ºè®®**ï¼š

è‰¹ï¼Œå›¢é˜Ÿåä½œä¸æ˜¯ä»–å¦ˆçº¸ä¸Šè°ˆå…µï¼å¿…é¡»è½åœ°æ‰§è¡Œï¼

1ã€**ä»å°åšèµ·**ï¼šå…ˆç»Ÿä¸€é…ç½®ï¼Œå†åŠ Hooksï¼Œæœ€åæ¥CI/CD
2ã€**è‡ªåŠ¨åŒ–ä¼˜å…ˆ**ï¼šèƒ½è‡ªåŠ¨åŒ–çš„ç»ä¸æ‰‹åŠ¨
3ã€**æŒç»­æ”¹è¿›**ï¼šæ¯å‘¨reviewä¸€æ¬¡é…ç½®ï¼Œä¸æ–­ä¼˜åŒ–
4ã€**å…¨å‘˜åŸ¹è®­**ï¼šæ–°äººå…¥èŒç¬¬ä¸€å¤©å°±è·‘ä¸€éinstall.sh


**ä¸‹ä¸€æ­¥**ï¼š

è¿›å…¥ **Module 8.2: ä¼ä¸šå®‰å…¨ä¸åˆè§„æŒ‡å—**ï¼Œå­¦ä¹ å¦‚ä½•ä¿æŠ¤Claude API Keyå’Œæ•æ„Ÿæ•°æ®ã€‚


## ğŸ”— ç›¸å…³é“¾æ¥

**èµ„æº**ï¼š**Module 8.2**
**é“¾æ¥**ï¼š[ä¼ä¸šå®‰å…¨ä¸åˆè§„æŒ‡å—](./ä¼ä¸šå®‰å…¨ä¸åˆè§„æŒ‡å—.md)


**èµ„æº**ï¼š**Module 7.2**
**é“¾æ¥**ï¼š[äº¤äº’æ¨¡å¼é«˜çº§å·¥ä½œæµ](../../07-Pluginsç”Ÿæ€/äº¤äº’æ¨¡å¼é«˜çº§å·¥ä½œæµ.md)


**èµ„æº**ï¼š**GitHubä»“åº“**
**é“¾æ¥**ï¼š[å›¢é˜Ÿé…ç½®æ¨¡æ¿](https://github.com/yourusername/team-claude-config)


**æ–‡æ¡£ç»“æŸ** | æ›´æ–°æ—¥æœŸï¼š2025-12-12 | ç‰ˆæœ¬ï¼š1.0
